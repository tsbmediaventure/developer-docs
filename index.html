
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-e74375e9.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch-ec00d1ce.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>
<body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;,&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/ConsCentLogo-d1ced522.svg" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="php">php</a>
        </div>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
          </li>
          <li>
            <a href="#registration" class="toc-h1 toc-link" data-title="Registration">Registration</a>
          </li>
          <li>
            <a href="#using-conscent" class="toc-h1 toc-link" data-title="Using ConsCent">Using ConsCent</a>
          </li>
          <li>
            <a href="#web-integration" class="toc-h1 toc-link" data-title="Web Integration">Web Integration</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#client-content" class="toc-h1 toc-link" data-title="Client Content">Client Content</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-content" class="toc-h2 toc-link" data-title="Create Content">Create Content</a>
                  </li>
                  <li>
                    <a href="#edit-content" class="toc-h2 toc-link" data-title="Edit Content">Edit Content</a>
                  </li>
                  <li>
                    <a href="#view-all-content" class="toc-h2 toc-link" data-title="View All Content">View All Content</a>
                  </li>
                  <li>
                    <a href="#view-content-details" class="toc-h2 toc-link" data-title="View Content Details">View Content Details</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#client-content-bundles" class="toc-h1 toc-link" data-title="Client Content Bundles">Client Content Bundles</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-content-bundle" class="toc-h2 toc-link" data-title="Create Content Bundle">Create Content Bundle</a>
                  </li>
                  <li>
                    <a href="#edit-content-bundle" class="toc-h2 toc-link" data-title="Edit Content Bundle">Edit Content Bundle</a>
                  </li>
                  <li>
                    <a href="#view-all-content-bundles" class="toc-h2 toc-link" data-title="View All Content Bundles">View All Content Bundles</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#validate-content-consumption" class="toc-h1 toc-link" data-title="Validate Content Consumption">Validate Content Consumption</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#validate-content-details-by-consumption-id" class="toc-h2 toc-link" data-title="Validate Content Details By Consumption ID">Validate Content Details By Consumption ID</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#client-stats" class="toc-h1 toc-link" data-title="Client Stats">Client Stats</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#specific-content-stats" class="toc-h2 toc-link" data-title="Specific Content Stats">Specific Content Stats</a>
                  </li>
                  <li>
                    <a href="#daily-content-stats" class="toc-h2 toc-link" data-title="Daily Content Stats">Daily Content Stats</a>
                  </li>
                  <li>
                    <a href="#current-subscriber-stats" class="toc-h2 toc-link" data-title="Current Subscriber Stats">Current Subscriber Stats</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#client-subscriptions" class="toc-h1 toc-link" data-title="Client Subscriptions">Client Subscriptions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#migrate-user-and-purchased-subscription" class="toc-h2 toc-link" data-title="Migrate User and Purchased Subscription">Migrate User and Purchased Subscription</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-sign-up-webhook" class="toc-h2 toc-link" data-title="1. Sign Up Webhook">1. Sign Up Webhook</a>
                  </li>
                  <li>
                    <a href="#2-login-webhook" class="toc-h2 toc-link" data-title="2. Login Webhook">2. Login Webhook</a>
                  </li>
                  <li>
                    <a href="#3-subscription-payment-webhook" class="toc-h2 toc-link" data-title="3. Subscription Payment Webhook">3. Subscription Payment Webhook</a>
                  </li>
                  <li>
                    <a href="#4-subscription-cancelled-webhook" class="toc-h2 toc-link" data-title="4. Subscription Cancelled Webhook">4. Subscription Cancelled Webhook</a>
                  </li>
                  <li>
                    <a href="#5-pass-payment-webhook" class="toc-h2 toc-link" data-title="5. Pass Payment Webhook">5. Pass Payment Webhook</a>
                  </li>
                  <li>
                    <a href="#6-subscription-bundle-payment-webhook" class="toc-h2 toc-link" data-title="6. Subscription Bundle Payment Webhook">6. Subscription Bundle Payment Webhook</a>
                  </li>
                  <li>
                    <a href="#7-review-subscription-webhook" class="toc-h2 toc-link" data-title="7. Review Subscription Webhook">7. Review Subscription Webhook</a>
                  </li>
                  <li>
                    <a href="#8-micro-payment-webhook" class="toc-h2 toc-link" data-title="8. Micro Payment Webhook">8. Micro Payment Webhook</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="API">API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#user-details-and-subscriptions-information" class="toc-h2 toc-link" data-title="User Details and Subscriptions Information">User Details and Subscriptions Information</a>
                  </li>
                  <li>
                    <a href="#purchased-subscriptions" class="toc-h2 toc-link" data-title="Purchased Subscriptions">Purchased Subscriptions</a>
                  </li>
                  <li>
                    <a href="#user-and-purchase-details" class="toc-h2 toc-link" data-title="User and Purchase Details">User and Purchase Details</a>
                  </li>
                  <li>
                    <a href="#client-purchases" class="toc-h2 toc-link" data-title="Client Purchases">Client Purchases</a>
                  </li>
                  <li>
                    <a href="#client-passes" class="toc-h2 toc-link" data-title="Client Passes">Client Passes</a>
                  </li>
                  <li>
                    <a href="#client-micropayments" class="toc-h2 toc-link" data-title="Client Micropayments">Client Micropayments</a>
                  </li>
                  <li>
                    <a href="#cancel-active-subscriptions" class="toc-h2 toc-link" data-title="Cancel Active Subscriptions">Cancel Active Subscriptions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#login" class="toc-h1 toc-link" data-title="Login">Login</a>
          </li>
          <li>
            <a href="#app-integration" class="toc-h1 toc-link" data-title="App Integration">App Integration</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#kotlin" class="toc-h2 toc-link" data-title="Kotlin">Kotlin</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#loyalty-system" class="toc-h1 toc-link" data-title="Loyalty System">Loyalty System</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-event-api-from-server" class="toc-h2 toc-link" data-title="Post Event API from Server">Post Event API from Server</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#autologin-functionality" class="toc-h1 toc-link" data-title="AutoLogin Functionality">AutoLogin Functionality</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#implementation" class="toc-h2 toc-link" data-title="Implementation">Implementation</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#country-code-list" class="toc-h1 toc-link" data-title="Country Code List">Country Code List</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting Started</h1>
<p>Welcome to ConsCent! This documentation covers all the steps for you to get set up - from optionally registering your premium content with ConsCent - which priced for a Pay per View basis, followed by integrating the paywall on your content pages and initialising the overlay to ensure all premium content is paid for, logging to your account via authorised credentials.</p>

<!-- You can get started by following the steps mentioned on the [Using ConsCent Page](#using-conscent). -->
<h1 id='registration'>Registration</h1>
<p>The first step is registering your client with ConsCent. This is done by the ConsCent Team internally and your administrator will recieve the login credenitals (email &amp; password) for the ConsCent Client Dashboard on the email they chose to register with. The client must provide a default value for the &#39;price&#39;, &#39;duration&#39; and optionally geolocation overrides if the client wants geo-fenced pricing options. This will ensure that all the premium content on the clients website/app is micro-priced - even if the client doesn&#39;t register the content with ConsCent via API. (Price values are in INR)</p>

<p>Note : By logging in to your ConsCent Client Dashboard and navigating to the <a href="https://client.conscent.in/client/dashboard/Configure">Integrations Page</a> in &#39;Documentation Tab&#39;, you will be able to view your active ClientId, API Key and API Secret.</p>
<h1 id='using-conscent'>Using ConsCent</h1>
<ul>
<li>In order to start creating content on ConsCent you need to ensure you follow the <a href="#authentication">Authentication Guidelines</a>. ConsCent will only allow authorised clients to create, view and edit content. For using these client APIs, the Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</li>
</ul>

<p>Note : Whenever you&#39;re utilising the Web Integration Code or Calling any ConsCent APIs - you to update the API_URL and SDK_URL variables based on the environment you&#39;re operating in.</p>

<ul class = 'instruction-bg-url'>
  <li>
    Sandbox Environment: 
    <ul>
      <li>API_URL:  https://sandbox-api.conscent.in</li>
      <li>SDK_URL:  https://sandbox-sdk.conscent.in/csc-sdk.js</li>
    </ul>
  </li>
</ul>

<ul class = 'instruction-bg-url'>
  <li>
    Production Environment: 
    <ul>
      <li>API_URL:  https://api.conscent.in</li>
      <li>SDK_URL:  https://sdk.conscent.in/csc-sdk.js</li>
    </ul>
  </li>
</ul>

<ul>
<li><p>If you wish to ONLY use blanket pricing - which allows you to set all your premium content at the same default price and priceOverrides with which your client is registered - you can skip the registering/editing content steps and move on to integrating the paywall on all your premium content pages.</p></li>
<li><p>Any content that you don&#39;t register with ConsCent will be priced using the Blanket Pricing parameters - which are determined when the client is registered.</p></li>
<li><p>Now you can start registering your premium content with ConsCent! Call the <a href="#create-content">Create Content API</a> for any content that you wish to register with ConsCent.</p></li>
</ul>

<p>Once you have registered your digital content on ConsCent, you need to integrate the paywall on all your Premium Content Pages.</p>

<ul>
<li>Follow the steps in the <a href="#web-integration">Web Integration Section</a> to add the ConsCent paywall to all the premium content pages on your website.</li>
</ul>

<!-- - Additionally, Follow the steps in the [React Native Integration Section](#react-native-integration) to add the ConsCent paywall to all the premium content pages on your Android/iOS application. -->

<p>Ensuring that the paywall appears each time any premium content is opened, as well as allowing users to purchase the content via ConsCent.</p>

<ul>
<li>Next, you need to call the <a href="#validate-content-consumption">Validate Content Consumption API</a> using the recieved &quot;consumptionId&quot; in the successCallback response, when a user purchases any of the client&#39;s content via ConsCent. This will assist the client in authenticating valid and unique transactions on their premium content.</li>
</ul>

<p>Integrating the paywall allows the users to purchase any of the Client&#39;s Content via ConsCent at Micropriced rates. The Web Integration section includes the steps involved in handling the Success and Failure Callbacks after the users go through the Concent Paywall, followed by validating each unique transaction incurred by a user on the any of the Clients Content.</p>

<ul>
<li><p>To view a list of all the client&#39;s premium content registered on ConsCent you can call the <a href="#view-all-content">View All Content API</a>.</p></li>
<li><p>To view the details of any individual client content you can call the <a href="#view-content-details">View Content Details API</a>.</p></li>
<li><p>To edit any content registered with ConsCent you can call <a href="#edit-content">Edit Content API</a>.</p></li>
</ul>
<h1 id='web-integration'>Web Integration</h1>
<blockquote>
<p>ConsCent Paywall Initalisation Script:</p>
</blockquote>
<div class="highlight"><pre class="highlight jsx tab-jsx"><code><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  const clientId = '5f92a62013332e0f667794dc';
  (function (w, d, s, o, f, cid) <span class="si">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">w</span><span class="p">[</span><span class="nx">o</span><span class="p">])</span> <span class="p">{</span>
      <span class="nx">w</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">w</span><span class="p">[</span><span class="nx">o</span><span class="p">].</span><span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
      <span class="p">};</span>
      <span class="nx">w</span><span class="p">[</span><span class="nx">o</span><span class="p">].</span><span class="nx">q</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="si">}</span>
    (js = d.createElement(s)), (fjs = d.getElementsByTagName(s)[0]);
    js.id = o;
    js.src = f;
    js.async = 1;
    js.title = cid;
    fjs.parentNode.insertBefore(js, fjs);
  })(window, document, 'script', '_csc', <span class="si">{</span><span class="nx">SDK_URL</span><span class="si">}</span>, clientId);
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<blockquote>
<p>Ensure you replace the &#39;clientId&#39; with your actual Client ID retrieved from the Conscent Client Dashboard Integration Page and the {SDK_URL} with the sdk url of an environment you want to use, e.g. &#39;https://sandbox-sdk.conscent.in&#39; for sandbox</p>
</blockquote>

<p>Integrating ConsCent on your Website is a simple and direct process. You start by copying the code on the right hand side within the script tags - and adding it to the header section of your Route Index file.</p>

<p>You can get your ConsCent Client Id from the <a href="https://client.conscent.in/dashboard/integration">Client Integrations Page</a> of the ConsCent Client Dashboard - as mentioned in the <a href="#registration">Registration Section</a>.</p>

<p class = 'instruction-bg'>Including this code in the header section allows the ConsCent Paywall to be initalised and further used whenever required on any Premium Content Page. </p>

<p class = 'instruction-bg'>Finally, In order to ensure that the ConsCent Paywall appears on all pages which contain Premium Content. You need to implement the following function on the content page - included on the right hand side which calls the initalisation function '_csc' of the ConsCent Paywall and enables a user to purchase the particular premium content at a Micropriced value through ConsCent. Please ensure that you call this function anytime you want the ConsCent paywall to show up on your content page and that you have filtered for users that have subscribed to your platform beforehand and already have access to view the content and thus will not be going through the ConsCent paywall. </p>

<blockquote>
<p>Include ConsCent Paywall on Premium Content Content Page:</p>
</blockquote>
<div class="highlight"><pre class="highlight jsx tab-jsx"><code><span class="kd">const</span> <span class="nx">csc</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_csc</span><span class="p">;</span>
<span class="nx">csc</span><span class="p">(</span><span class="dl">'</span><span class="s1">init</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">debug</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// can be set to false to remove sdk non-error log output</span>
  <span class="na">contentId</span><span class="p">:</span> <span class="nx">contentId</span><span class="p">,</span>
  <span class="na">subscriptionUrl</span><span class="p">:</span> <span class="p">{</span><span class="nx">clientSubscriptionUrl</span><span class="p">},</span>
  <span class="na">signInUrl</span><span class="p">:</span> <span class="p">{</span><span class="nx">clientSignInUrl</span><span class="p">},</span>
  <span class="na">clientId</span><span class="p">:</span> <span class="nx">clientId</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="nx">contentTitle</span><span class="p">,</span>
  <span class="na">isMobile</span><span class="p">:</span> <span class="dl">'</span><span class="s1">false</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">buttonMode</span><span class="p">,</span>
  <span class="na">successCallback</span><span class="p">:</span> <span class="nx">yourSuccessCallbackFunction</span><span class="p">,</span>
  <span class="na">wrappingElementId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">csc-paywall</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">fullScreenMode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">false</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// if set to true, the entire screen will be covered,</span>
  <span class="na">phoneNumber</span><span class="p">:</span> <span class="mi">9898989898</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="nx">test</span><span class="p">@</span><span class="nd">email</span><span class="p">.</span><span class="nx">com</span>
<span class="p">})</span>
</code></pre></div>
<blockquote>
<p>Success Callback example:</p>
</blockquote>
<div class="highlight"><pre class="highlight jsx tab-jsx"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">yourSuccessCallbackFunction</span><span class="p">(</span><span class="nx">validationObject</span><span class="p">:</span> <span class="nx">any</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Function to show the premium content to the User since they have paid for it via ConsCent</span>
  <span class="c1">// Here you should verify the  validationObject with our backend</span>
  <span class="c1">// And then you must provide access to the user for the complete content</span>

  <span class="c1">// example verification code:</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Initiating verification with conscent backend</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">xhttp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span> <span class="c1">// using vanilla javascript to make a post request</span>
  <span class="kd">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">API_URL</span><span class="p">}</span><span class="s2">/api/v1/content/consumption/</span><span class="p">${</span><span class="nx">validationObject</span><span class="p">.</span><span class="nx">consumptionId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="nx">xhttp</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> <span class="nx">url</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
  <span class="c1">// e is the response event</span>
  <span class="nx">xhttp</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">backendConfirmationData</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">response</span><span class="p">);</span>

    <span class="c1">// verifying that the validation received matches the backend data</span>
    <span class="k">if</span> <span class="p">(</span>
      <span class="nx">validationObject</span><span class="p">.</span><span class="nx">consumptionId</span> <span class="o">===</span> <span class="nx">backendConfirmationData</span><span class="p">.</span><span class="nx">consumptionId</span> <span class="o">&amp;&amp;</span>
      <span class="nx">validationObject</span><span class="p">.</span><span class="nx">payload</span><span class="p">.</span><span class="nx">clientId</span> <span class="o">===</span> <span class="nx">backendConfirmationData</span><span class="p">.</span><span class="nx">payload</span><span class="p">.</span><span class="nx">clientId</span> <span class="o">&amp;&amp;</span>
      <span class="nx">validationObject</span><span class="p">.</span><span class="nx">payload</span><span class="p">.</span><span class="nx">contentId</span> <span class="o">===</span> <span class="nx">backendConfirmationData</span><span class="p">.</span><span class="nx">payload</span><span class="p">.</span><span class="nx">contentId</span>
    <span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Validation successful</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">successful validation</span><span class="dl">'</span><span class="p">);</span>
      <span class="c1">// accessContent would be your function that will do all the actions that need to be done to unlock the entire content</span>
      <span class="nx">accessContent</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="nx">xhttp</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>We import the initalisation script using the unique &#39;_csc&#39; identifier and run the &#39;init&#39; function by passing a number of parameters:</p>

<ul>
<li><p>The &#39;clientId&#39; which is retrieved from the <a href="https://client.conscent.in/dashboard/integration">Client Integrations Page</a> of the ConsCent Client Dashboard.</p></li>
<li><p>The &#39;contentId&#39; which should be identical to the Content Id by which the particular content is registered with - in the Client CMS. This allows us to identify each piece of unique content for a client.</p></li>
<li><p>The &#39;title&#39; which should be the Content Title by which the particular content is registered with in the Client CMS.</p></li>
<li><p>The &#39;subscriptionUrl&#39; which is the link to the Subscription page of the clients website - in cases when a user would like to subscribe to the clients website for accessing the premium content offered.</p></li>
<li><p>You can optionally provide the &#39;signInUrl&#39; which is the link to the login page for already subscribed users on the clients platform - in cases when a user has already registered and paid for the clients subscription and would like to access premium content using their login credentials. Doing this will add a &quot;Sign in here&quot; text to be displayed below the &quot;Subscribe&quot; button.</p></li>
<li><p>&#39;wrappingElementId&#39; is a mandatory string which is the id of an element (e.g. a div with absolute positioning on your website) within which you want the paywall to be embedded. Your element should have a minimum width of 320 pixels and a minimum height of 550 pixels for the conscent paywall to fit properly.</p></li>
<li><p>&#39;buttonMode&#39; can be set to &#39;true&#39; or &#39;false&#39; (boolean) -- if true, the paywall will appear only as a button. This may be useful for content such as videos, songs and podcasts. Moreover, the &#39;button&#39; paywall can be styled from the client dashboard directly - by passing the required CSS there.</p></li>
<li><p>&#39;fullScreenMode&#39; can be set to &#39;true&#39; or &#39;false&#39; (strings) -- if true, the first screen of the paywall will cover the entire webpage. This is useful if you don&#39;t want the premium content page to be visible at all once the user proceeds with the payment.</p></li>
<li><p>The &#39;phoneNumber&#39; of the user, if already available with the client, can be passed to ConsCent to initilise the user, and prefill their data in the required fields.</p></li>
<li><p>The &#39;email&#39; of the user, if already available with the client, can be passed to ConsCent to initilise the user, and prefill their data in the required fields.</p></li>
</ul>

<p><p class = 'instruction-bg'>Once the ConsCent Paywall has been initalised and the user has gone through the necessary steps needed to purchase the content via ConsCent - you need to implement a &#39;successCallback&#39; function which will recieve a response containing a validationObject shown below - indicating whether the user has purchased the content, or if the user has access to the content already since they have purchased it before, or whether the transaction has failed and the user has not purchased the content. </p></p>

<p><code> 
{
    &quot;message&quot;: &quot;Content Purchased Successfully&quot;,
    &quot;payload&quot;: {
        &quot;clientId&quot;: &quot;5fbb40b07dd98b0e89d90a25&quot;,
        &quot;contentId&quot;: &quot;Client Content Id 5&quot;,
        &quot;createdAt&quot;: &quot;2020-12-29T05:51:31.116Z&quot;
    },
    &quot;consumptionId&quot;: &quot;a0c433af-a413-49e1-9f40-ce1fbd63f568&quot;,
    &quot;signature&quot;: &quot;74h9xm2479m7x792nxx247998975393x08y9hubrufyfy3348oqpqqpyg78fhfurifr3&quot;,
}
</code></p>

<p>The message &quot;Content Purchased Successfully&quot; appears in the response only when the user has purchased content via ConsCent and the &quot;accessTimeLeft&quot; field appears in the response only when the user has purchased the content previously and still has free access to consume the content. Moreover, the response contains a &quot;consumptionId&quot; field which will be used to verify each unique transaction by a user on the clients content with ConsCent.</p>

<p>Calling the <a href="#validate-content-consumption">Validate Content Consumption</a> API using the recieved &quot;consumptionId&quot; in the successCallback response can assist the client in authenticating valid and unique transactions on their premium content.</p>

<p class = 'instruction-bg'>The response validationObject from the 'Validate Content Consumption' API includes the same fields as mentioned in the validationObject above and matching the payload from the 'successCallback' response and 'Validate Content Consumption' response allows the client to ensure each transaction of any premium content via ConsCent is validated by matching the clientId, contentId, and createdAt (Date of Consumption/Transaction); </p>
 

<p>If the case arrives when the user tries to purchase any content via ConsCent on the client&#39;s website and the transaction fails. The client can handle that case as well in a &#39;failedCallback&#39; function or redirect to any page - as the Client wishes.</p>

<p>Lastly, once the transaction has been validated by the Client - whether they choose to do it in the frontend or the backend - the client needs to provide access to the premium content purchased by the user. You can do this on the same page, or redirect the user to a different page containing the entirety of the premium content.</p>

<!-- # React Native Integration

This section covers integrating the ConsCent paywall into your react native application. This works for both iOS and Android.

You start by including ConsCent's React Native plugin. Using the following command

<p class = 'instruction-bg'>
npm i -s react-native-conscent
</p>

This is a package written in react-native with no native code - it is a pure javascript implementation and can be used in both iOS and Android applications with no extra configuration.

> Include ConsCent Paywall on Premium Content Story Page of your Android/iOS Application:

```
import Conscent from 'react-native-conscent';

export default function App() {
  return (
    // When you want to render conscent's paywall, simply use the Conscent component
    <View style={{ flex: 1 }}>
      <Conscent
        clientId="your-client-id"
        storyId="your-story-id"
        successCallback={successCallback}
        subscriptionUrl="https://www.yoursite.com/yourstory"
        signInUrl="https://www.yoursite.com/login"
        subscriptionCallback={subscriptioncallback}
        mode="sandbox"
      />
    </View>
  );
}
```

You can get your ConsCent Client Id from the [Client Integrations Page](https://ConsCent.vercel.app/client/dashboard/integration) of the ConsCent Client Dashboard - as mentioned in the [Registration Section](#registration).

<p class = 'function-params'> Function Parameters </p>

| Parameter            | Description                                                                                                                                                     |
| -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| clientId             | Retrieved from the Integrations Page on the Client Dashboard                                                                                                    |
| storyId              | Story Id by which the Story has been registered on the Client CMS                                                                                               |
| successCallback      | Function which will receive the success payload. See the success payload structure below.                                                                       |
| subscriptionUrl      | You may either set the subscriptionUrl or the subscriptionCallback. subscriptionUrl will open the given url in the browser when the subscribe button is clicked |
| signInUrl      | You can optionally provide the link to the login page for already subscribed users on the clients platform - in cases when a previously subscribed user would like to access premium content using their login credentials. Doing this will add a "Sign in here" text to be displayed below the "Subscribe" button. |
| subscriptionCallback | function which receives no arguments. This function is called when the user clicks the subscribe button                                                         |
| mode                 | either 'sandbox' or 'production' based on your credentials                                                                                                      |

In order to show the ConsCent paywall before your premium content, you need to include the &lt;Conscent &gt; component with the required props. Usually, you would like to show the paywall before your registered premium stories to users who haven't subscribed to your service.

<p class = 'instruction-bg'>An example of how to initiate the paywall is show on the right-hand side. Include the &lt;Conscent &gt; component with the required props.</p>

Once the ConsCent Paywall has been initalised and the User has gone through the necessary steps needed to purchase the story via ConsCent - the 'successCallback' function you have provided as a prop will be called containing an object shown below - indicating whether the user has purchased the story, or if the user has access to the story already since they have purchased it before recently.

Additionally, you must set either the Subscription URL or the Subscription Callback function to determine the what happens when the user clicks on the 'Subscribe' button present on the conscent paywall and instead of paying per view.

<code>
{
    "message": "Story Purchased Successfully",
    "payload": {
        "clientId": "5fbb40b07dd98b0e89d90a25",
        "storyId": "Client Story Id 5",
        "transactionAmount": 5,
        "earningAmount": 4,
        "createdAt": "2020-12-29T05:51:31.116Z"
    },
    "readId": "a0c433af-a413-49e1-9f40-ce1fbd63f568",
}
</code>

The message "Story Purchased Successfully" appears in the response only when the user has purchased a story via ConsCent and the "accessTimeLeft" field appears in the response only when the user has purchased this story previously and still has free access to view the content. Moreover, the response contains a "readId" field which can be used to verify each unique transaction by a user on the clients registered stories on ConsCent. Moreover, the payload contains the 'transactionAmount' that the user pays for the story as well as the 'earningAmount' that the client earns for each of their stories that a user purchases through ConsCent.

Call the [Validate Story Read](#validate-story-read) API using the recieved "readId" in the successCallback response to verify that the transaction was unique and valid. The validate story read endpoint can only be used once per readId to ensure authenticity. Basically, readId functions as a one-time token.

<p class = 'instruction-bg'>The response payload from the 'Validate Story Read' API includes the same fields as mentioned in the payload above and matching the payload from the 'successCallback' response and 'Validate Story Read' response allows the client to ensure each transaction of premium content stories via ConsCent is validated by matching the clientId, storyId, transactionAmount and createdAt(Date of Read/Transaction); </p>

<p class='instruction-bg'>If any field  received in the success callback payload doesn't match the backend data, it is a fraudulent transaction & access to the premium content must not be provided</p>

Lastly, once the transaction has been validated by the Client - whether they choose to do it in the frontend or the backend - the client needs to show the premium content purchased by the User. You can do this on the same screen, or in another screencontaining the full content of the premium story. In the screen where you show the premium content, you MUST also show the ConsCent floating action button, you can do this by including the &lt;Conscent.Fab&gt; component anywhere in your view.

<p class='instruction-bg'>The ConsCent floating action button must be visible when displaying your premium content that is priced on ConsCent. Do so by  including the &lt;Conscent.Fab&gt; component anywhere in your view</p> -->

<!-- 
# API Introduction

Welcome to the ConsCent Client API! You can use our APIs to access ConsCent Client API endpoints, which can help you get information on various tasks such as how to create content, verify payment for any content etc. -->

<!-- 
We have language bindings in Shell (cURL), PHP, and JavaScript! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right. -->
<h1 id='authentication'>Authentication</h1>
<p>ConsCent uses API keys to allow access to the API for the Client to Create and Register any Content with ConsCent. You can view your API Key and Secret by logging in to your ConsCent Client Dashboard and navigating to the Integrations Page <a href="https://client.conscent.in/dashboard/integration">Client Integrations Page</a>. Please contact your administrator for the Login Credentials to access the ConsCent Client Dashboard - provided on the official email address registered with ConsCent.</p>

<p>ConsCent expects for the API Key and Secret to be included as Basic Authentication in certain API requests (Ex. Create Content API utilised by the Client).</p>

<p><code>Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw==</code></p>

<aside class="notice">
You must replace <code>RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw==</code> with your personal Client API Key and Secret
</aside>
<h1 id='client-content'>Client Content</h1><h2 id='create-content'>Create Content</h2><div class="highlight"><pre class="highlight php tab-php"><code>
<span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">{</span><span class="nv">API_URL</span><span class="si">}</span><span class="s2">/api/v1/content/"</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="no">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span><span class="s1">'{
    "contentId" : "testingID For Client Content",
    "duration" : 30,
    "title" : "Test content for API functionality",
    "price" : 1,
    "currency": "INR",
    "url": "www.google.com",
    "contentType": "STORY",
    "categories": ["category1", "category2"],
    "tags": ["entertainment", "sports"],
    "sections": ["EDITORIAL"],
    "authorId": "7589",
    "priceOverrides": {
        "country": [
            {
                "name": "GL",
                "price": 3
            },
            {
                "name": "IN",
                "price": 5
            },
            {
                "name": "US",
                "price": 7
            }
        ]
    },
    "download": {
      "url": "https://yourdownloadurl.com",
      "fileName": "Download File - Name",
      "fileType": "PDF"
    },
    "pixels": {
        "facebook": {
            "pixelId": "98357934724994",
            "events": [
                {
                    "eventType": "VIEW",
                    "name": "PageView"
                },
                {
                    "eventType": "CONVERSION",
                    "name": "Purchase",
                    "data": {
                        "value": "dataValue"
                    }
                }
            ]
        },
        "google": {
            "trackingId": "G-RJDY8493"
        }
    }
  }'</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=="</span><span class="p">,</span>
    <span class="s2">"Content-Type: application/json"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>

</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'{API_URL}/api/v1/content/'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=='</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-d</span> <span class="s1">'{
    "contentId" : "testingID For Client Content",
    "duration" : 30,
    "title" : "Test content for API functionality",
    "price" : 1,
    "currency": "INR",
    "categories": ["category1", "category2"],
    "tags": ["entertainment", "sports"],
    "sections": ["EDITORIAL"],
    "authorId": "7589",
    "contentType": "STORY",
    "url": "www.google.com",
    "priceOverrides": {
        "country": [
            {
                "name": "GL",
                "price": 3
            },
            {
                "name": "IN",
                "price": 5
            },
            {
                "name": "US",
                "price": 7
            }
        ]
    },
    "download": {
      "url": "https://yourdownloadurl.com",
      "fileName": "Download File - Name",
      "fileType": "PDF"
    },
    "pixels": {
        "facebook": {
            "pixelId": "98357934724994",
            "events": [
                {
                    "eventType": "VIEW",
                    "name": "PageView"
                },
                {
                    "eventType": "CONVERSION",
                    "name": "Purchase",
                    "data": {
                        "value": "dataValue"
                    }
                }
            ]
        },
        "google": {
            "trackingId": "G-RJDY8493"
        }
    }
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="na">contentId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">testingID For Client</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">duration</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test content for API functionality</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">price</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">INR</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">www.google.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">contentType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">STORY</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">categories</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">category1</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">category2</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">tags</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">entertainment</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">sports</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">sections</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">EDITORIAL</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">authorId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7589</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">priceOverrides</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">country</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GL</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">3</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">IN</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">5</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">US</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">7</span> <span class="p">},</span>
    <span class="p">],</span>
  <span class="p">},</span>
  <span class="na">download</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://yourdownloadurl.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">fileName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Download File - Name</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">fileType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PDF</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">pixels</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">facebook</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">pixelId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">98357934724994</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">events</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">eventType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">VIEW</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PageView</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="na">eventType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CONVERSION</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Purchase</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">dataValue</span><span class="dl">"</span><span class="p">,</span>
          <span class="p">},</span>
        <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
    <span class="na">google</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">trackingId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">G-RJDY8493</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">post</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/content/</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw==</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Content Created!"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test content for API functionality"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testingID For Client Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.google.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STORY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"category1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"category2"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b4"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GL"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b5"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b6"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yourdownloadurl.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Download File - Name"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fileType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PDF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"s3Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KeyForDownloadedFileOnS3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"pixels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"facebook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"pixelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98357934724994"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VIEW"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PageView"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONVERSION"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dataValue"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"google"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"trackingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G-RJDY8493"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to Register their Content on ConsCent - with the Content Title, ContentId, Content URL, categories, Analytics Pixels (Facebook and Google), Price as well as any specific Price Overrides for a country - In order to set a different price for the content in the relevant country. Moreover, the Client can also set the duration of a content - which means that if a content if purchased by a user on ConsCent, then that user can have free access to the content for {duration} amount of time. By Default we use a 1 Day duration. Moreover, the ContentType field is optional - and if no &#39;contentType&#39; is provided then the default &#39;contentType&#39; of the client will be treated as the &#39;contentType&#39; of the content being registered. While category based pricing can be used for any content, by passing the priceCategory field on registering the content - as long as the price category has been registered by the client on the ConsCent dashboard along with its respective price, duration and priceOverrides; however, category based pricing only comes into effect if the content does not have a pre-determined price field (price must be null); Moreover, if the content is downloadable on purchase, then the client can pass the download &quot;url&quot;, &quot;fileName&quot; and &quot;fileType&quot; in the download object of the request body while creating the content. Finally, the client can pass a &#39;pixels&#39; object in the request body which can contain either/or facebook and google pixel data - to ensure that the client&#39;s pixel events are fired on particular occurances relating to the content (Page View or Purchase of the Content). The pixel object must be passed in accordance with the format provided in the sample requests. Please note that the pixels are NOT fired when a user has blocked 3rd party cookies.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST {API_URL}/api/v1/content</code></p>
<h3 id='authorization'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contentId</td>
<td>required</td>
<td>Content Id by which the Content has been registered on the Client CMS. Please ensure that the content ID is at most 32 characters and can only contain letters, numbers, underscores and dashes.</td>
</tr>
<tr>
<td>title</td>
<td>required</td>
<td>Title of the Content</td>
</tr>
<tr>
<td>price</td>
<td>optional</td>
<td>Content Price for pay-per-use pricing</td>
</tr>
<tr>
<td>currency</td>
<td>optional</td>
<td>Currency in which price is determined. Must be an ISO 4217 supported - 3 Digit currency Code. INR is used as the default if no value is provided.</td>
</tr>
<tr>
<td>url</td>
<td>required</td>
<td>URL where the content is available on your website</td>
</tr>
<tr>
<td>duration</td>
<td>optional</td>
<td>Free content access time for user once the user has purchased the content. (Standard Practice - 1 Day);</td>
</tr>
<tr>
<td>authorId</td>
<td>optional</td>
<td>Id of the Author of the content - Mandatory if authorName is present</td>
</tr>
<tr>
<td>authorName</td>
<td>optional</td>
<td>Name of the Author of the content</td>
</tr>
<tr>
<td>contentType</td>
<td>optional</td>
<td>Must be an ENUM from one of the following - STORY, VIDEO, SONG, PODCAST, PREMIUM CONTENT</td>
</tr>
<tr>
<td>priceOverrides</td>
<td>optional</td>
<td>Price Overrides for any particular country with the relevant country code as the name and the ENUM value in the price. The country code list is located the end of this document</td>
</tr>
<tr>
<td>download</td>
<td>optional</td>
<td>Object containing the &quot;url&quot;, &quot;fileName&quot; and &quot;fileType&quot;. All download parameters must be provided if the content is downloadable on purchase. Also, the &quot;fileType&quot; is an ENUM and only accepts &quot;PDF&quot; currently.</td>
</tr>
<tr>
<td>priceCategory</td>
<td>optional</td>
<td>The priceCategory of the content, which has been registered by the client on the ConsCent Client Dashboard - in order to invoke category based pricing (only valid if story doesn&#39;t have a price). Each registered priceCategory will have an associated price, currency, duration and priceOverrides.</td>
</tr>
<tr>
<td>pixels</td>
<td>optional</td>
<td>A nested object with the optional keys being &quot;facebook&quot; and &quot;google&quot;. With the &quot;google&quot; object only requiring the trackingId - to include the gcategory throughout the platform. However, for the &quot;facebook&quot; object the &quot;pixelId&quot; must be passed along with an &quot;events&quot; array - containing the event name (as configured on the facebook events manager), the eventType (which is an ENUM to be chosen from [&quot;VIEW&quot;, &quot;CONVERSION&quot;]) as well as any data/values associated with the particular event.</td>
</tr>
<tr>
<td>categories</td>
<td>optional</td>
<td>Array of categories associated with the content</td>
</tr>
</tbody></table>

<aside class="notice">
Remember  A content must be registered by including all the required fields mentioned above! Ensure you provide all the required fields for creating the content - including the Content ID with which the content is registered on your Client CMS as well as the title and content URL. Moreover, depending on the pricing model you wish to use - you must either pass a price and currency associated with the content, or a pre-defined priceCategory to determine the pricing of the content. If neither of these are provided, the content price will be determined on the default price parameters set for the client. (Blanket Pricing). Also, you can pass the download object with the required fields for the content to be downloaded on purchase by a user. Furthermore, if you're including pixels for the content - you must ensure that the facebook events can only be passed once per eventType and no two events in the same array can have the same eventType field. Note: Pixel events are NOT fired when 3rd party cookies are blocked. 
</aside>
<h2 id='edit-content'>Edit Content</h2>
<blockquote>
<p>Please ensure you URL encode the contentId in the Path Parameters
Replace the {contentId} in the API path with your actual Content Id</p>
</blockquote>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">{</span><span class="nv">API_URL</span><span class="si">}</span><span class="s2">/api/v1/content/Client%20Content%20Id%2011"</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"PATCH"</span><span class="p">,</span>
   <span class="no">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span><span class="s1">'{
    "contentId" : "testingID For Client Content",
    "duration" : 30,
    "title" : "Test content for API functionality Edited",
    "price" : 1,
    "currency": "INR",
    "url": "www.google.com",
    "contentType": "PREMIUM CONTENT",
    "categories": ["category3"],
    "priceOverrides": {
        "country": [
            {
                "name": "GL",
                "price": 2
            },
            {
                "name": "IN",
                "price": 1
            },
            {
                "name": "US",
                "price": 0
            }
        ]
    },
    "download": {
      "url": "https://yourdownloadurl.com",
      "fileName": "Download File - Edited Name",
      "fileType": "PDF"
    },
    "pixels": {
        "facebook": {
            "pixelId": "98357934724994",
            "events": [
                {
                    "eventType": "VIEW",
                    "name": "PageView"
                },
                {
                    "eventType": "CONVERSION",
                    "name": "Purchase",
                    "data": {
                        "value": "dataValue"
                    }
                }
            ]
        },
        "google": {
            "trackingId": "G-RJDY8493"
        }
    }
}'</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=="</span><span class="p">,</span>
    <span class="s2">"Content-Type: application/json"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>

</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PATCH <span class="s1">'{API_URL}/api/v1/content/{contentId}'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=='</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-d</span> <span class="s1">'{
    "contentId" : "testingID For Client Content",
    "duration" : 30,
    "title" : "Test content for API functionality Edited",
    "price" : 1,
    "currency": "INR",
    "categories": ["category3"],
    "url": "www.google.com",
    "contentType": "PREMIUM CONTENT",
    "priceOverrides": {
        "country": [
            {
                "name": "GL",
                "price": 2
            },
            {
                "name": "IN",
                "price": 1
            },
            {
                "name": "US",
                "price": 0
            }
        ]
    },
    "download": {
      "url": "https://yourdownloadurl.com",
      "fileName": "Download File - Edited Name",
      "fileType": "PDF"
    },
    "pixels": {
        "facebook": {
            "pixelId": "98357934724994",
            "events": [
                {
                    "eventType": "VIEW",
                    "name": "PageView"
                },
                {
                    "eventType": "CONVERSION",
                    "name": "Purchase",
                    "data": {
                        "value": "dataValue"
                    }
                }
            ]
        },
        "google": {
            "trackingId": "G-RJDY8493"
        }
    }
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="na">contentId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">testingID For Client Content</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">duration</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test content for API functionality Edited</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">price</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">INR</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">categories</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">category3</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">www.google.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">contentType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PREMIUM CONTENT</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">priceOverrides</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">country</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GL</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">2</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">IN</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">1</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">US</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">0</span> <span class="p">},</span>
    <span class="p">],</span>
  <span class="p">},</span>
  <span class="na">download</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://yourdownloadurl.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">fileName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Download File - Edited Name</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">fileType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PDF</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">pixels</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">facebook</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">pixelId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">98357934724994</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">events</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">eventType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">VIEW</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PageView</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="na">eventType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CONVERSION</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Purchase</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">dataValue</span><span class="dl">"</span><span class="p">,</span>
          <span class="p">},</span>
        <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
    <span class="na">google</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">trackingId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">G-RJDY8493</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">patch</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/content/{contentId}</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWjnJL877NJSjnkHSk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw==</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Content Edited Successfully"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"editedContent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Id Test Edited"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testingID For Client Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"category3"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.yoursite.com/yournewcontent"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PREMIUM CONTENT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authorName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"changed-author-name"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"changed-unique-author-id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b4"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GL"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b5"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b6"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yourdownloadurl.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Download File - Edited Name"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fileType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PDF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"s3Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KeyForDownloadedFileOnS3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"pixels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"facebook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"pixelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98357934724994"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VIEW"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PageView"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONVERSION"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dataValue"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"google"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"trackingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G-RJDY8493"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to Edit their Registered Content on ConsCent - with the editable fields being the Content title, price, currency, priceOverrides, categories, URL, duration, contentType, download, category and pixels . Content ID CANNOT be edited!</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>PATCH {API_URL}/api/v1/content/{contentId}</code></p>
<h3 id='authorization-2'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contentId</td>
<td>The ID of the Content you wish to edit ( Ensure it is URL Encoded)</td>
</tr>
</tbody></table>
<h3 id='request-body-2'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>optional</td>
<td>Title of the Content</td>
</tr>
<tr>
<td>price</td>
<td>optional</td>
<td>Content Price for Pay-per-use pricing</td>
</tr>
<tr>
<td>currency</td>
<td>optional</td>
<td>Currency in which price is determined. Must be an ISO 4217 supported - 3 Digit currency Code. INR is used as the default if no value is provided.</td>
</tr>
<tr>
<td>url</td>
<td>optional</td>
<td>URL where the content is available on your website</td>
</tr>
<tr>
<td>duration</td>
<td>optional</td>
<td>Free content access time for user once the user has purchased the content. (Standard Practice - 1 Day);</td>
</tr>
<tr>
<td>authorId</td>
<td>optional</td>
<td>Id of the Author of the content - Mandatory if authorName is present</td>
</tr>
<tr>
<td>authorName</td>
<td>optional</td>
<td>Name of the Author of the content</td>
</tr>
<tr>
<td>contentType</td>
<td>optional</td>
<td>Must be an ENUM from one of the following - STORY, VIDEO, SONG, PODCAST, PREMIUM CONTENT</td>
</tr>
<tr>
<td>priceOverrides</td>
<td>optional</td>
<td>Price Overrides for any particular country with the relevant country code as the name and the ENUM value in the price. The country code list is located the end of this document</td>
</tr>
<tr>
<td>download</td>
<td>optional</td>
<td>Object containing the &quot;url&quot;, &quot;fileName&quot; and &quot;fileType&quot;. All download parameters must be provided if the content is downloadable on purchase. Also, the &quot;fileType&quot; is an ENUM and only accepts &quot;PDF&quot; currently</td>
</tr>
<tr>
<td>priceCategory</td>
<td>optional</td>
<td>The priceCategory of the content, which has been registered by the client on the ConsCent Client Dashboard - in order to invoke category based pricing (only valid if story doesn&#39;t have a price). Each registered priceCategory will have an associated price, currency, duration and priceOverrides</td>
</tr>
<tr>
<td>pixels</td>
<td>optional</td>
<td>A nested object with the optional keys being &quot;facebook&quot; and &quot;google&quot;. With the &quot;google&quot; object only requiring the trackingId - to include the gcategory throughout the platform. However, for the &quot;facebook&quot; object the &quot;pixelId&quot; must be passed along with an &quot;events&quot; array - containing the event name (as configured on the facebook events manager), the eventType (which is an ENUM to be chosen from [&quot;VIEW&quot;, &quot;CONVERSION&quot;]) as well as any data/values associated with the particular event.</td>
</tr>
<tr>
<td>categories</td>
<td>optional</td>
<td>Array of categories associated with the content</td>
</tr>
</tbody></table>

<aside class="notice">
Remember  Either/All of the fields of a content - title, price, currency, priceOverrides, URL, categories, authorName, authorId, contentType, priceCategory, download and pixels - can be edited. Only pass the fields you wish to edit in the request body. 
</aside>
<h2 id='view-all-content'>View All Content</h2>
<blockquote>
<p>API to retrieve all of the client&#39;s content registered on ConsCent.</p>
</blockquote>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">{</span><span class="nv">API_URL</span><span class="si">}</span><span class="s2">/api/v1/content/client"</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=="</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>


</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="s1">'{API_URL}/api/v1/content/client'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=='</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">get</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/content/client</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw==</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Id Test Edit 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Id 11"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"category1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"category2"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.yoursite.com/yourcontent"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STORY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test content for API functionality"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testingID for Client Content"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"category3"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.yoursite.com/yourcontent"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STORY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yourdownloadurl.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Download File - Name"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fileType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PDF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"s3Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KeyForDownloadedFileOnS3"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to view their entire collection of Registered Content on ConsCent. With each retrieved content containing the following details - Title, Price, URL, Content ID and duration.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET {API_URL}/api/v1/content/client</code></p>
<h3 id='authorization-3'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pageNumber</td>
<td>optional</td>
<td>Pagination Parameters - which page of the contents list you would like to retrieve (default = 1). Since each page will have 20 (default) individual contents ONLY.</td>
</tr>
<tr>
<td>pageSize</td>
<td>optional</td>
<td>Pagination Parameters - the number of individual contents to retrieve on each page (default = 20).</td>
</tr>
</tbody></table>

<aside class="notice">
Remember  Pagination parameters are optional. The dafault values are - pageNumber = 1 & pageSize = 20. If you would like to access more content in a single call then you will have to pass the value as a query parameter (pageSize). Max. value for pageSize is 499. Moreover, if you would like to access content that isn't included in the first page - then you will have to pass the pageNumber as a query parameter for any of the subsequent pages.
</aside>
<h2 id='view-content-details'>View Content Details</h2>
<blockquote>
<p>Please ensure you URL encode the contentId in the Path Parameters
Replace the {contentId} in the API path with your actual Content Id</p>
</blockquote>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">{</span><span class="nv">API_URL</span><span class="si">}</span><span class="s2">/api/v1/content/client/Client%20Content%20Id%206"</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=="</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>

</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="s1">'{API_URL}/api/v1/content/client/Client%20Content%20Id%206'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=='</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">get</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/content/client/Client%20Content%20Id%206</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw==</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tesla Tequila"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Id 6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"category3"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.yoursite.com/yourcontent"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STORY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to retrieve a particular content which they registered with ConsCent - including the details of the content such as the Content ID, title, price, currency, URL, duration, contentType and priceCategory.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET {API_URL}/api/v1/content/client/{contentId}</code></p>
<h3 id='authorization-4'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contentId</td>
<td>The ID of the Content you wish to retrieve (Please ensure its URL Encoded)</td>
</tr>
</tbody></table>

<aside class="notice">
API to retrieve the details of an individual content registered by the client on ConsCent. 
</aside>
<h1 id='client-content-bundles'>Client Content Bundles</h1><h2 id='create-content-bundle'>Create Content Bundle</h2><div class="highlight"><pre class="highlight php tab-php"><code>
<span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">{</span><span class="nv">API_URL</span><span class="si">}</span><span class="s2">/api/v1/content/bundle"</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="no">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span><span class="s1">'{
    "contentId" : "Client Content Bundle 1",
    "duration" : 30,
    "title" : "Test content bundle for API functionality",
    "price" : 10,
    "currency": "INR",
    "url": "www.google.com",
    "categories": ["category4", "category5"],
    "contentType": "STORY",
    "priceOverrides": {
        "country": [
            {
                "name": "GL",
                "price": 3
            },
            {
                "name": "IN",
                "price": 5
            },
            {
                "name": "US",
                "price": 7
            }
        ]
    },
    "bundleContentIds": ["Content Id 1", "Content Id 2", "Content Id 3"],
  }'</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=="</span><span class="p">,</span>
    <span class="s2">"Content-Type: application/json"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>

</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'{API_URL}/api/v1/content/bundle'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=='</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-d</span> <span class="s1">'{
    "contentId" : "Client Content Bundle 1",
    "bundleContentIds": ["Content Id 1", "Content Id 2", "Content Id 3"],
    "duration" : 30,
    "title" : "Test content bundle for API functionality",
    "price" : 10,
    "currency": "INR",
    "categories": ["category4", "category5"],
    "contentType": "STORY",
    "url": "www.google.com",
    "priceOverrides": {
        "country": [
            {
                "name": "GL",
                "price": 3
            },
            {
                "name": "IN",
                "price": 5
            },
            {
                "name": "US",
                "price": 7
            }
        ]
    },
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="na">contentId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Client Content Bundle 1</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">bundleContentIds</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Content Id 1</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content Id 2</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content Id 3</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">duration</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test content bundle for API functionality</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">price</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">INR</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">categories</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">category4</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">category5</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">www.google.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">contentType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">STORY</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">priceOverrides</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">country</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GL</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">3</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">IN</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">5</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">US</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">7</span> <span class="p">},</span>
    <span class="p">],</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">post</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/content/bundle</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw==</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Content Created!"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test content bundle for API functionality"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Bundle 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bundleContentIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Content Id 1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Content Id 2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Content Id 3"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"category4"</span><span class="p">,</span><span class="w"> </span><span class="s2">"category5"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.google.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STORY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b4"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GL"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b5"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b6"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to Register their Content Bundle on ConsCent - with the Content Title, ContentId, BundleContentIds, Content URL, categories, Price, Currency, as well as any specific Price Overrides for a country - In order to set a different price for the content bundle in the relevant country. Moreover, the Client can also set the duration of a content bundle - which means that if a bundle if purchased by a user on ConsCent, then that user can have free access to all the content in the bundle for {duration} amount of time. By Default we use a 1 Day duration. Moreover, the ContentType field is optional - and if no &#39;contentType&#39; is provided then the default &#39;contentType&#39; of the client will be treated as the &#39;contentType&#39; of the content being registered. While category based pricing can be used for any content bundle, by passing the priceCategory field on registering the content - as long as the priceCategory has been registered by the client on the ConsCent dashboard along with its respective price, duration and priceOverrides; however, category based pricing only comes into effect if the content does not have a pre-determined price field (price must be null); Lastly, the bundleContentIds must be the unique Ids of the client&#39;s contents that have been registered with ConsCent previously. Any mismatch in the bundleContentIds will throw an error - so ensure the contentIds that are to be part of the bundle are registered and passed to the API call correctly.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST {API_URL}/api/v1/content/bundle</code></p>
<h3 id='authorization-5'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='request-body-3'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contentId</td>
<td>required</td>
<td>Unique Content Id by which the Content Bundle will be determined and registered</td>
</tr>
<tr>
<td>bundleContentIds</td>
<td>required</td>
<td>Array of ContentIds - which have been registered on ConsCent by the client and are to be grouped together for purchase - in this bundle</td>
</tr>
<tr>
<td>title</td>
<td>required</td>
<td>Title of the Content Bundle</td>
</tr>
<tr>
<td>price</td>
<td>optional</td>
<td>Content Bundle Price</td>
</tr>
<tr>
<td>currency</td>
<td>optional</td>
<td>Currency in which price is determined. Must be an ISO 4217 supported - 3 Digit currency Code. INR is used as the default if no value is provided.</td>
</tr>
<tr>
<td>url</td>
<td>required</td>
<td>URL where the content bundle is available on your website</td>
</tr>
<tr>
<td>duration</td>
<td>optional</td>
<td>Free content access time for user once the user has purchased the content bundle. (Standard Practice - 1 Day);</td>
</tr>
<tr>
<td>contentType</td>
<td>optional</td>
<td>Must be an ENUM from one of the following - STORY, VIDEO, SONG, PODCAST, PREMIUM CONTENT</td>
</tr>
<tr>
<td>priceOverrides</td>
<td>optional</td>
<td>Price Overrides for any particular country with the relevant country code as the name and the ENUM value in the price. The country code list is located the end of this document</td>
</tr>
<tr>
<td>priceCategory</td>
<td>optional</td>
<td>The priceCategory of the content bundle, which has been registered by the client on the ConsCent Client Dashboard - in order to invoke category based pricing (only valid if story doesn&#39;t have a price). Each registered priceCategory will have an associated price, currency, duration and priceOverrides.</td>
</tr>
<tr>
<td>categories</td>
<td>optional</td>
<td>Array of categories associated with the content bundle</td>
</tr>
</tbody></table>

<aside class="notice">
Remember  A content bundle must be registered by including all the required fields mentioned above! Ensure you provide all the required fields for creating the content - including the Content ID with which the content is registered on your Client CMS as well as the accurate array of bundleContentIds, title and content URL. Moreover, depending on the pricing model you wish to use - you must either pass a price and currency associated with the content bundle, or a pre-defined priceCategory to determine the pricing of the content bundle. If neither of these are provided, the content bundle price will be determined on the default price parameters set for the client. (Blanket Pricing).
</aside>
<h2 id='edit-content-bundle'>Edit Content Bundle</h2>
<blockquote>
<p>Please ensure you URL encode the contentId in the Path Parameters
Replace the {contentId} in the API path with your actual Content Id</p>
</blockquote>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">{</span><span class="nv">API_URL</span><span class="si">}</span><span class="s2">/api/v1/content/bundle/Client%20Content%20Bundle%2011"</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"PATCH"</span><span class="p">,</span>
   <span class="no">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span><span class="s1">'{
    "contentId" : "Client Content Bundle 1",
    "bundleContentIds": ["Content Id 1", "Content Id 2", "Content Id 3"],
    "duration" : 30,
    "title" : "Test content bundle for API functionality Edited",
    "price" : 15,
    "categories": ["category7"],
    "currency": "INR",
    "url": "www.google.com",
    "contentType": "PREMIUM CONTENT",
    "priceOverrides": {
        "country": [
            {
                "name": "GL",
                "price": 2
            },
            {
                "name": "IN",
                "price": 1
            },
            {
                "name": "US",
                "price": 0
            }
        ]
    },

}'</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=="</span><span class="p">,</span>
    <span class="s2">"Content-Type: application/json"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>

</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PATCH <span class="s1">'{API_URL}/api/v1/content/bundle/{contentId}'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=='</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-d</span> <span class="s1">'{
    "contentId" : "Client Content Bundle 1",
    "bundleContentIds": ["Content Id 1", "Content Id 2", "Content Id 3"],
    "duration" : 30,
    "title" : "Test content bundle for API functionality Edited",
    "price" : 15,
    "currency": "INR",
    "categories": ["category7"],
    "url": "www.google.com",
    "contentType": "PREMIUM CONTENT",
    "priceOverrides": {
        "country": [
            {
                "name": "GL",
                "price": 2
            },
            {
                "name": "IN",
                "price": 1
            },
            {
                "name": "US",
                "price": 0
            }
        ]
    },
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="na">contentId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Client Content Bundle 1</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">bundleContentIds</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Content Id 1</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content Id 2</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content Id 3</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">duration</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test content bundle for API functionality Edited</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">price</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">INR</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">www.google.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">contentType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PREMIUM CONTENT</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">categories</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">category7</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">priceOverrides</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">country</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GL</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">2</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">IN</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">1</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">US</span><span class="dl">"</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mi">0</span> <span class="p">},</span>
    <span class="p">],</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">patch</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/content/bundle/{contentId}</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWjnJL877NJSjnkHSk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw==</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Content Edited Successfully"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"editedContent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test content bundle for API functionality Edited"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Bundle 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bundleContentIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Content Id 1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Content Id 2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Content Id 3"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"category7"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.yoursite.com/yournewcontent"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PREMIUM CONTENT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b4"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GL"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b5"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b6"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to Edit their Registered Content Bundle on ConsCent - with the editable fields being the bundleContentIds as well as the bundle title, price, currency, priceOverrides, URL, duration, contentType and priceCategory. The Bundle Content ID CANNOT be edited!</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>PATCH {API_URL}/api/v1/content/bundle/{contentId}</code></p>
<h3 id='authorization-6'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contentId</td>
<td>The ID of the Content Bundle you wish to edit ( Ensure it is URL Encoded)</td>
</tr>
</tbody></table>
<h3 id='request-body-4'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>optional</td>
<td>Title of the Content Bundle</td>
</tr>
<tr>
<td>bundleContentIds</td>
<td>optional</td>
<td>Array of ContentIds - which have been registered on ConsCent by the client and are to be grouped together for purchase - in this bundle</td>
</tr>
<tr>
<td>price</td>
<td>optional</td>
<td>Content Bundle Price</td>
</tr>
<tr>
<td>currency</td>
<td>optional</td>
<td>Currency in which price is determined. Must be an ISO 4217 supported - 3 Digit currency Code. INR is used as the default if no value is provided.</td>
</tr>
<tr>
<td>url</td>
<td>optional</td>
<td>URL where the content bundle is available on your website</td>
</tr>
<tr>
<td>duration</td>
<td>optional</td>
<td>Free content access time for user once the user has purchased the content bundle. (Standard Practice - 1 Day);</td>
</tr>
<tr>
<td>contentType</td>
<td>optional</td>
<td>Must be an ENUM from one of the following - STORY, VIDEO, SONG, PODCAST, PREMIUM CONTENT</td>
</tr>
<tr>
<td>priceOverrides</td>
<td>optional</td>
<td>Price Overrides for any particular country with the relevant country code as the name and the ENUM value in the price. The country code list is located the end of this document</td>
</tr>
<tr>
<td>priceCategory</td>
<td>optional</td>
<td>The priceCategory of the content bundle, which has been registered by the client on the ConsCent Client Dashboard - in order to invoke category based pricing (only valid if story doesn&#39;t have a price). Each registered priceCategory will have an associated price, currency, duration and priceOverrides</td>
</tr>
<tr>
<td>categories</td>
<td>optional</td>
<td>Array of categories associated with the content bundle</td>
</tr>
</tbody></table>

<aside class="notice">
Remember  Either/All of the fields of a content bundle - bundleContentIds, title, price, currency, priceOverrides, URL, contentType, categories and priceCategory - can be edited. Only pass the fields you wish to edit in the request body. 
</aside>
<h2 id='view-all-content-bundles'>View All Content Bundles</h2>
<blockquote>
<p>API to retrieve all of the client&#39;s content bundles registered on ConsCent.</p>
</blockquote>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">{</span><span class="nv">API_URL</span><span class="si">}</span><span class="s2">/api/v1/content/bundles"</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=="</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>


</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="s1">'{API_URL}/api/v1/content/bundles'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw=='</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">get</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/content/bundles</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic RDZXN1Y4US1NTkc0V1lDLVFYOUJQMkItOEU3QjZLRzpUNFNHSjlISDQ3TVpRWkdTWkVGVjZYUk5TS1E4RDZXN1Y4UU1ORzRXWUNRWDlCUDJCOEU3QjZLRw==</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Bundle Edit 2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Bundle 2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bundleContentIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Content Id 4"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Content Id 5"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"category7"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.yoursite.com/yourcontent"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STORY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605b25824646e9233aef61b4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test content bundle for API functionality"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bundleContentIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Content Id 1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Content Id 2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Content Id 3"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Bundle 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.yoursite.com/yourcontent"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STORY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to view their entire collection of Registered Content Bundles on ConsCent. With each retrieved content bundle containing the following details - bundleContentIds, Title, Price, URL, Content ID and duration.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET {API_URL}/api/v1/content/bundles</code></p>
<h3 id='authorization-7'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pageNumber</td>
<td>optional</td>
<td>Pagination Parameters - which page of the content bundles list you would like to retrieve (default = 1). Since each page will have 20 (default) individual contents ONLY.</td>
</tr>
<tr>
<td>pageSize</td>
<td>optional</td>
<td>Pagination Parameters - the number of individual content bundles to retrieve on each page (default = 20).</td>
</tr>
</tbody></table>

<aside class="notice">
Remember  Pagination parameters are optional. The dafault values are - pageNumber = 1 & pageSize = 20. If you would like to access more content in a single call then you will have to pass the value as a query parameter (pageSize). Max. value for pageSize is 499. Moreover, if you would like to access content bundles that aren't included in the first page - then you will have to pass the pageNumber as a query parameter for any of the subsequent pages.
</aside>

<hr>
<h1 id='validate-content-consumption'>Validate Content Consumption</h1><h2 id='validate-content-details-by-consumption-id'>Validate Content Details By Consumption ID</h2>
<blockquote>
<p>Replace the {consumptionId} in the API path with the actual value/string of the consumptionId recieved</p>
</blockquote>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">{</span><span class="nv">API_URL</span><span class="si">}</span><span class="s2">/api/v1/content/consumption/11c369df-2a30-4a0d-90dc-5a45797dacdd"</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'{API_URL}/api/v1/content/consumption/{consumptionId}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">post</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/content/consumption/{consumptionId}</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{},</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Content Consumption Confirmed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fbb40b07dd98b0e89d90a25"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Content Id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-11-15T13:55:36.659Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"consumptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11c369df-2a30-4a0d-90dc-5a45797dacdd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4379hrm47mo34m2340cny2rcn487cn209842cr474107nc409c4"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to Validate the Content Details anytime a User Purchases any Content of the Client using ConsCent - with the Client passing the Content ID in the request and recieving details regarding the Content Id and the Date of Purchase of the Content by the User, as well as matching the unique Consumption Id to ensure it cannot be reused.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST {API_URL}/api/v1/content/consumption/{consumptionId}</code></p>

<p>The client will recieve a payload when any content is purchased via ConsCent - providing the details of the content such as the ClientId to identify which client the content belongs to as well as the Client Content ID, Transaction Amount and Date of the Transaction. Moroever, they will also recieve a Consumption ID - by passing the Consumption ID in this API request - the Client can verify the authenticity of the transaction and restrict any spillage.</p>
<h3 id='url-parameters-6'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>consumptionId</td>
<td>required</td>
<td>consumptionId recieved by the client for each unique transaction on any of the Client&#39;s Content registered with ConsCent</td>
</tr>
</tbody></table>

<aside class="notice">
Remember  The Consumption ID is unique and once it is used it will expire. Clients can use this endpoint to ensure the unique transactions that occur on any of their premium content registered with ConsCent. 
</aside>
<h1 id='client-stats'>Client Stats</h1><h2 id='specific-content-stats'>Specific Content Stats</h2><div class="highlight"><pre class="highlight php tab-php"><code>
<span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s1">'{API_URL}/api/v1/client/stats/content/your-content-id?from=2021-02-12T05:45:41.389Z&amp;to=2021-02-13T05:45:41.389Z'</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization: Basic WTE3UkdRSy1RMlQ0UEo5LU4zWVNSWEotRFNSNERZTTpQUkVTVDdTRTZSTUNXWVBaNjRZQzdXUlA2UEpEWTE3UkdRS1EyVDRQSjlOM1lTUlhKRFNSNERZTQ=='</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>


</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">-X</span> GET <span class="s1">'{API_URL}/api/v1/client/stats/content/your-content-id?from=2021-02-12T05:45:41.389Z&amp;to=2021-02-13T05:45:41.389Z'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Basic WTE3UkdRSy1RMlQ0UEo5LU4zWVNSWEotRFNSNERZTTpQUkVTVDdTRTZSTUNXWVBaNjRZQzdXUlA2UEpEWTE3UkdRS1EyVDRQSjlOM1lTUlhKRFNSNERZTQ=='</span>

</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">get</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/client/stats/content/your-content-id?from=2021-02-12T05:45:41.389Z&amp;to=2021-02-13T05:45:41.389Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic WTE3UkdRSy1RMlQ0UEo5LU4zWVNSWEotRFNSNERZTTpQUkVTVDdTRTZSTUNXWVBaNjRZQzdXUlA2UEpEWTE3UkdRS1EyVDRQSjlOM1lTUlhKRFNSNERZTQ==</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">588.74</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows our partners to get purchase count and purchase amount for a particular content id. Please pass the date-range as ISO-date strings in the from and to query parameters. Also pass the content id as a path parameter. By default this API provides details of all time consumption.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST {API_URL}/api/v1/client/stats/content/:replace-with-contentid</code></p>
<h3 id='authorization-8'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>optional</td>
<td>ISO date string from which the aggregated stats have to be calculated</td>
</tr>
<tr>
<td>to</td>
<td>optional</td>
<td>ISO date string till which the aggregated stats have to be calculated</td>
</tr>
</tbody></table>

<aside class="notice">
Providing aggregated statistics of a content to the client - for the previous days' (default) or provided date ranges' consumption of their content by users via ConsCent.
</aside>
<h2 id='daily-content-stats'>Daily Content Stats</h2><div class="highlight"><pre class="highlight php tab-php"><code>
<span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s1">'{API_URL}/api/v1/client/stats/daily?from=2021-02-12T05:45:41.389Z&amp;to=2021-02-13T05:45:41.389Z'</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization: Basic WTE3UkdRSy1RMlQ0UEo5LU4zWVNSWEotRFNSNERZTTpQUkVTVDdTRTZSTUNXWVBaNjRZQzdXUlA2UEpEWTE3UkdRS1EyVDRQSjlOM1lTUlhKRFNSNERZTQ=='</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>


</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">-X</span> GET <span class="s1">'{API_URL}/api/v1/client/stats/daily?from=2021-02-12T05:45:41.389Z&amp;to=2021-02-13T05:45:41.389Z'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Basic WTE3UkdRSy1RMlQ0UEo5LU4zWVNSWEotRFNSNERZTTpQUkVTVDdTRTZSTUNXWVBaNjRZQzdXUlA2UEpEWTE3UkdRS1EyVDRQSjlOM1lTUlhKRFNSNERZTQ=='</span>

</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">get</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/client/stats/daily?from=2021-02-12T05:45:41.389Z&amp;to=2021-02-13T05:45:41.389Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic WTE3UkdRSy1RMlQ0UEo5LU4zWVNSWEotRFNSNERZTTpQUkVTVDdTRTZSTUNXWVBaNjRZQzdXUlA2UEpEWTE3UkdRS1EyVDRQSjlOM1lTUlhKRFNSNERZTQ==</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"totalContentConsumed"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalRevenueGenerated"</span><span class="p">:</span><span class="w"> </span><span class="mf">29.6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to get Aggregate Statistics based on users consumption of their content via ConsCent. By default this API provides details of the previous days&#39; consumption. However, the client can pass the &#39;from&#39; and &#39;to&#39; dates as optional query parameters to get aggregated stats for any range that they choose. The value of &#39;totalRevenueGenerated&#39; in the response if given in &quot;INR&quot; by default.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST {API_URL}/api/v1/client/stats/daily</code></p>
<h3 id='authorization-9'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>optional</td>
<td>ISO date string from which the aggregated stats have to be calculated</td>
</tr>
<tr>
<td>to</td>
<td>optional</td>
<td>ISO date string till which the aggregated stats have to be calculated</td>
</tr>
</tbody></table>

<aside class="notice">
Providing aggregated statistics to the client - for the previous days' (default) or provided date ranges' consumption of their content by users via ConsCent.
</aside>
<h2 id='current-subscriber-stats'>Current Subscriber Stats</h2><div class="highlight"><pre class="highlight php tab-php"><code>
<span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s1">'{API_URL}/api/v1/subscription/client/list'</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization: Basic TVZaVEZKOS1CNTlNNE5LLUczTUMyMDYtTUVFVktDMjozUzNFUkYwWjlBTTFNRkpYNTJDUTRKTUdWSlpNTVZaVEZKOUI1OU00TktHM01DMjA2TUVFVktDMg=='</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>


</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>
curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'{API_URL}/api/v1/subscription/client/list'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Basic TVZaVEZKOS1CNTlNNE5LLUczTUMyMDYtTUVFVktDMjozUzNFUkYwWjlBTTFNRkpYNTJDUTRKTUdWSlpNTVZaVEZKOUI1OU00TktHM01DMjA2TUVFVktDMg=='</span>

</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">get</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{API_URL}/api/v1/subscription/client/list</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic TVZaVEZKOS1CNTlNNE5LLUczTUMyMDYtTUVFVktDMjozUzNFUkYwWjlBTTFNRkpYNTJDUTRKTUdWSlpNTVZaVEZKOUI1OU00TktHM01DMjA2TUVFVktDMg==</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"renewSubscription"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"617a78b780033b289c552298"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userAccount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4792"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chattarpur"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"110074"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ifelneddckjlj"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Delhi"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Delhi"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Name"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9847473843"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usertesting@email.com"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">96.5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bengaluru (nagashettyhalli)"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-28T10:17:27.354Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription 2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"operatingSystem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desktop"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-28T10:17:27.359Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to get the list of all currently active subscriptions via ConsCent. Including the details of each subscription purchased, such as the title, price, the amount and currency paid by the user, the type of subscription, date of purchase, date of expiry, renewal and free trial booleans, as well as the user details - phone number, email, addressm , OS, device and location.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>POST {API_URL}/api/v1/subscription/client/list</code></p>
<h3 id='authorization-10'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>

<aside class="notice">
Providing list of currently active subscriptions - via ConsCent - to the client. Along with the details relating to each of these purchases. 
</aside>
<h1 id='client-subscriptions'>Client Subscriptions</h1><h2 id='migrate-user-and-purchased-subscription'>Migrate User and Purchased Subscription</h2><div class="highlight"><pre class="highlight php tab-php"><code>
<span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="no">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s1">'http://localhost:3001/api/v1/subscription/migrate'</span><span class="p">,</span>
  <span class="no">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
  <span class="no">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="no">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="no">CURLOPT_FOLLOWLOCATION</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="no">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="no">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="no">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span><span class="s1">'{
    "userPrimaryEmail": "testemail@test.com",
    "userPrimaryPhone": "9545734678",
    "userSecondaryEmail": "testemailsecond@test.com",
    "userSecondaryPhone": "9545732228",
    "userName": "testUser",
    "expiryDate": "2022-01-25T12:39:28.337Z",
    "purchaseDate": "2022-01-25T12:39:28.337Z",
    "country": "IN",
    "clientUserId": "9342793972792",
    "userAddress": {
        "address": "test address line 1",
        "city": "New Delhi",
        "state": "DELHI",
        "postcode": "110001"
    },
    "utmParameters": {
        "utm_source": "website",
        "utm_medium": "facebook"
    },
    "subscriptionDetails": {
        "title": "Migrated Subscription 1",
        "priceDetails": {
            "price": 200,
            "currency": "INR"
        },
        "subscriptionType": {
            "physical": false,
            "digital": true
        },
        "internalSubscriptionId": "89432923924792792379"
    }
}'</span><span class="p">,</span>
  <span class="no">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization: Basic TVZaVEZKOS1CNTlNNE5LLUczTUMyMDYtTUVFVktDMjozUzNFUkYwWjlBTTF7942mx974727929TUdWSlpNTVZaVEZKOUI1OU00TktHM01DMjA2TUVFVktDMg=='</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>


</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'http://localhost:3001/api/v1/subscription/migrate'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Basic TVZaVEZKOS1CNTlNNE5LLUczTUMyMDYtTUVFVktDMjozUzNFU73474977942792SlpNTVZaVEZKOUI1OU00TktHM01DMjA2TUVFVktDMg=='</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "userPrimaryEmail": "testemail@test.com",
    "userPrimaryPhone": "9545734678",
    "userSecondaryEmail": "testemailsecond@test.com",
    "userSecondaryPhone": "9545732228",
    "userName": "testUser",
    "expiryDate": "2022-01-25T12:39:28.337Z",
    "purchaseDate": "2022-01-25T12:39:28.337Z",
    "country": "IN",
    "clientUserId": "9342793972792",
    "userAddress": {
        "address": "test address line 1",
        "city": "New Delhi",
        "state": "DELHI",
        "postcode": "110001"
    },
    "utmParameters": {
        "utm_source": "website",
        "utm_medium": "facebook"
    },
    "subscriptionDetails": {
        "title": "Migrated Subscription 1",
        "priceDetails": {
            "price": 200,
            "currency": "INR"
        },
        "subscriptionType": {
            "physical": false,
            "digital": true
        },
        "internalSubscriptionId": "89432923924792792379"
    }
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="na">userPrimaryEmail</span><span class="p">:</span> <span class="dl">"</span><span class="s2">testemail@test.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">userPrimaryPhone</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9545734678</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">userSecondaryEmail</span><span class="p">:</span> <span class="dl">"</span><span class="s2">testemailsecond@test.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">userSecondaryPhone</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9545732228</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">userName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">testUser</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">expiryDate</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2022-01-25T12:39:28.337Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">purchaseDate</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2022-01-25T12:39:28.337Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">country</span><span class="p">:</span> <span class="dl">"</span><span class="s2">IN</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">clientUserId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9342793972792</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">userAddress</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">address</span><span class="p">:</span> <span class="dl">"</span><span class="s2">test address line 1</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">city</span><span class="p">:</span> <span class="dl">"</span><span class="s2">New Delhi</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">state</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DELHI</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">postcode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">110001</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">utmParameters</span><span class="p">:</span> <span class="p">{</span> <span class="na">utm_source</span><span class="p">:</span> <span class="dl">"</span><span class="s2">website</span><span class="dl">"</span><span class="p">,</span> <span class="na">utm_medium</span><span class="p">:</span> <span class="dl">"</span><span class="s2">facebook</span><span class="dl">"</span> <span class="p">},</span>
  <span class="na">subscriptionDetails</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Migrated Subscription 1</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">priceDetails</span><span class="p">:</span> <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="na">currency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">INR</span><span class="dl">"</span> <span class="p">},</span>
    <span class="na">subscriptionType</span><span class="p">:</span> <span class="p">{</span> <span class="na">physical</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">digital</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
    <span class="na">internalSubscriptionId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">89432923924792792379</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">post</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://localhost:3001/api/v1/subscription/migrate</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">Basic TVZaVEZKOS1CNTlNNE5LLUczTUMyMDYtTUVFVktDMjozUzNFUkYwWj7479m2x7924792x297TVZaVEZKOUI1OU00TktHM01DMjA2TUVFVktDMg==</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription migrated successfully"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"migratedSubscription"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"inrGstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"migratedSubscriptionDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Migrated Subscription 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"internalSubscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89432923924792792379"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"manuallyRenewed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"renewSubscription"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bundleContentIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61f25e0a9d50b5d6b90479eb"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"601a8ea4f2149f089782814f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61f25e0a9d50b5d6b90479e8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIPTION"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Migrated Subscription 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61eff7907acd46480c5259d8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-27T08:55:38.786Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"migratedCreatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-25T12:39:28.337Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-25T12:39:28.337Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utmParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-27T08:55:38.786Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows the Client to migrate a user&#39;s subscription to ConsCent, including the details of the user, subscription and the purchase on their platform - with the userPhoneNumber, userEmail, userName, clientUserId, expiryDate, purchaseDate. utmParameters, userAddress (address, city, state, postcode), country, and other client specific subscriptionDetails - title, priceDetails (price &amp; currency), subscriptionType (digital &amp; physical), and internalSubscriptionId. It is required to pass either the &#39;userPrimaryEmail&#39; or the &#39;userPrimaryPhone&#39; - as the primary login of the user on ConsCent.</p>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST {API_URL}/api/v1/subscription/migrate</code></p>
<h3 id='authorization-11'>Authorization</h3>
<p>Client API Key and Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='request-body-5'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userPrimaryEmail</td>
<td>optional</td>
<td>The email of the user for whom the purchased subscription is being migrated (used as primary login method)</td>
</tr>
<tr>
<td>userPrimaryPhone</td>
<td>optional</td>
<td>The phone number of the user for whom the purchased subscription is being migrated provided. (used as primary login method is no primary email is provided)</td>
</tr>
<tr>
<td>userSecondaryEmail</td>
<td>optional</td>
<td>The alternate email of the user for whom the purchased subscription is being migrated (not used for login and provided in webhooks/data exports for the client)</td>
</tr>
<tr>
<td>userSecondaryPhone</td>
<td>optional</td>
<td>The phone number of the user for whom the purchased subscription is being migrated provided. (not used for login and provided in webhooks/data exports for the client)</td>
</tr>
<tr>
<td>expiryDate</td>
<td>required</td>
<td>Array of ContentIds - The date on which the migrated subscription will expire for the user (must be an ISO Date String)</td>
</tr>
<tr>
<td>purchaseDate</td>
<td>required</td>
<td>The Date on which the user purchased the subscription on the client&#39;s platform (must be an ISO Date String)</td>
</tr>
<tr>
<td>country</td>
<td>required</td>
<td>The country of the user that purchased the subscription (must be an ISO Alpha-2 code from the list provided below)</td>
</tr>
<tr>
<td>userName</td>
<td>optional</td>
<td>The name of the user for whom the purchased subscription is being migrated</td>
</tr>
<tr>
<td>clientUserId</td>
<td>optional</td>
<td>The userID of the associated user in the client&#39;s platform - will be returned in relevant webhooks to the client for matching the details/purchases of the user accurately;</td>
</tr>
<tr>
<td>userAddress</td>
<td>optional</td>
<td>REQUIRED for a physical subscription - address of the user for whom the purchased subscription is being migrated - must be passed as an object containing the fields - address, city, state, postcode.</td>
</tr>
<tr>
<td>subscriptionDetails</td>
<td>required</td>
<td>Details of the subscription being migrated. Must be passed as an object containing the fields - title, priceDetails: {price: number, currency: string}, subscriptionType: {physical: boolean, digital: boolean}, internalSubscriptionId - where the subscriptionType is a required field, and must be passed; while all other fields are optional.</td>
</tr>
<tr>
<td>utmParameters</td>
<td>optional</td>
<td>The UTM parameters associated with the subscription being migrated. Must be passed as an object containing the fields - utm_source &amp; utm_source - both of which are optional</td>
</tr>
</tbody></table>

<aside class="notice">
Remember  A migrated subscription must be registered by including all the required fields mentioned above! Ensure you provide all the required fields for creating the user, subscription and the purchased subscription/access via ConsCent - including the userEmail, expiryDate, purchaseDate, country and subscriptionDetails (subscriptionType). It is required to pass either the 'userPrimaryEmail' or the 'userPrimaryPhone' - as the primary login of the user on ConsCent.
</aside>
<h1 id='webhooks'>Webhooks</h1><h2 id='1-sign-up-webhook'>1. Sign Up Webhook</h2>
<p>You can register your webhook endpoint for receiving ConsCent user data by logging in to your ConsCent Client Dashboard and navigating to the Webhook Page. You will be able to enable/disable and edit your webhook url from this section. Once the webhook URL is registered and the webhook is in the enabled state - the endpoint will recieve user data anytime the user logins in for the first time on the client&#39;s website or application via ConsCent.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9818329028"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7843y9xm44428xm24x2m0x2xm42"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9818329028"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-email@webhook.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hashedPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7942mey829mxe1238z2ym9zy39my29zy2z9dy24793msy29z2z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hashedEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8392mx30mx2mu8034x02mx802ry2480nyd249yx420xfn20w4y04xm2024"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"London"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mi">8359893</span><span class="p">,</span><span class="w">
    </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mi">7438734</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">221993</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"os"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS 10.16"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"browser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chrome"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7923492 Apartment1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Area"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"389023"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test landmark"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York City"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"clientTierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestTierID1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientSpecificUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11003289298"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='description'>Description</h3>
<p>This event occurs when the user logs in to the platform very first time.</p>

<blockquote>
<p>The webhook returns a JSON in the request body - structured like this:</p>
</blockquote>
<h3 id='security'>Security</h3>
<p>You will either get the user&#39;s email or phoneNumber field and accordingly only one of hashedPhoneNumber or hashedEmail. This hash is generated by using jwt.sign and passing the api secret as the secret. Learn more about jwt here. You can verify this by using jwt.verify for security purposes.</p>

<p>Alternately, you can check the authorization headers. Every request to the webhook uses Basic authorization with the api key as the username and the api secret as the password.</p>

<p>-Do note that you will receive either the phoneNumber or the email depending on what the user chooses to log in with.</p>
<h2 id='2-login-webhook'>2. Login Webhook</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9818329028"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9818329028"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-email@webhook.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7843y9xm44428xm24x2m0x2xm42"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hashedPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7942mey829mxe1238z2ym9zy39my29zy2z9dy24793msy29z2z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hashedEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8392mx30mx2mu8034x02mx802ry2480nyd249yx420xfn20w4y04xm2024"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"London"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mi">8359893</span><span class="p">,</span><span class="w">
    </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mi">7438734</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">221993</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"os"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS 10.16"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"browser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chrome"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7923492 Apartment1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Area"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"389023"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test landmark"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York City"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"clientTierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestTierID1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientSpecificUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11003289298"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>You can register your webhook endpoint for receiving ConsCent user data by logging in to your ConsCent Client Dashboard and navigating to the Webhook Page. You will be able to enable/disable and edit your webhook url from this section. Once the webhook URL is registered and the webhook is in the enabled state - the endpoint will recieve user data (name, email, phone number, hashed email &amp; phone number, city, location, address &amp; country of the user) anytime the user logins in on the client&#39;s website or application via ConsCent.</p>
<h3 id='description-2'>Description</h3>
<p>This event occurs when the user logs in to the platform everytime.</p>
<h3 id='security-2'>Security</h3>
<p>You will either get the user&#39;s email or phoneNumber field and accordingly only one of hashedPhoneNumber or hashedEmail. This hash is generated by using jwt.sign and passing the api secret as the secret. Learn more about jwt here. You can verify this by using jwt.verify for security purposes.</p>

<p>Alternately, you can check the authorization headers. Every request to the webhook uses Basic authorization with the api key as the username and the api secret as the password.</p>

<p>Your api key / api secret is visible in the SDK part of the Integration section of the client dashboard</p>

<blockquote>
<p>The webhook returns a JSON in the request body - structured like this:</p>
</blockquote>
<h2 id='3-subscription-payment-webhook'>3. Subscription Payment Webhook</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61b9cf42f5d1f54797aaf14f"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7843y9xm44428xm24x2m0x2xm42"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"purchaseId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4932228982489248928208024"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"manuallyRenewed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"renewSubscription"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"renewalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61efb40a672c7f15840e803c"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"renewalDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bundleContentIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"NETWORK"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61b9cefbf5d1f54797aaf149"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"601a8ea4f2149f089782814f"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">289.5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bengaluru (nagashettyhalli)"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.0411</span><span class="p">,</span><span class="w">
    </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">77.5702</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560056"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"userCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-15T11:19:30.897Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIPTION"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription 5"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desktop"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616ffd76621d69c5ee43c044"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616ffd76621d69c5ee43c045"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-15T11:19:30.914Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-15T11:19:30.914Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientSpecificUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11003289298"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"chosenTier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"clientTierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Tier ID"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616ffd76621d69c5ee437485"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"basePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"offers"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"inrGstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17973 Octane Drive"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sun Valley"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90210"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Los Angeles"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"California"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"renewedSubscriptionDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"renewalCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rzpSubscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_Inua2HuuV2lxLG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextRenewalDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-06-25T08:38:18.369Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"autoRenew"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can register your webhook endpoint for receiving ConsCent purchased subscription data by logging in to your ConsCent Client Dashboard and navigating to the Webhook Page. You will be able to enable/disable and edit your webhook url from this section. Once the webhook URL is registered and the webhook is in the enabled state - the endpoint will recieve user&#39;s purchased subscription data anytime the user purchases a subscription on the client&#39;s platform or application via ConsCent. Moreover, the webhook is secured by basic auth using the Clients API Key and API Secret provided by ConsCent on the SDK Integration section of the client dashboard - ConsCent Client Integration. You can optionally choose to keep the endpoint as protected and authenticate using the provided credentials which are passed in the headers of the POST request to the configured webhook endpoint.</p>
<h3 id='description-3'>Description</h3>
<p>This event occurs whenever the user buys any subscription.</p>

<blockquote>
<p>The webhook returns a JSON in the request body - structured like this:</p>
</blockquote>
<h2 id='4-subscription-cancelled-webhook'>4. Subscription Cancelled Webhook</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"cancelledSubscriptionDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"renewalCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rzpSubscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_InvqpVxG0vu7n8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELLED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"userEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin1@seed.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9869779647"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7843y9xm44428xm24x2m0x2xm42"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"clientSpecificUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11003289298"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"recommended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"benefits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"benefit ewiowe, benefit 2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"couponsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adminCoupon"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"usedCouponNumbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w">
    </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616ffd76621d69c5ee43c044"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"601a8ea4f2149f089782814f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription 5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"iconUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://conscent-subscriptions.s3.ap-south-1.amazonaws.com/local/Samakshs-MacBook-Pro-2.local/Screenshot%202021-07-22%20at%209.05.01%20PM.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tiers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"priceOverrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"basePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"offers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616ffd76621d69c5ee43c045"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
        </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"couponCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-20T11:28:54.143Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-19T06:45:18.634Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"lastPurchaseDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.0411</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">77.5702</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560056"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"inrGstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"manuallyRenewed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"renewSubscription"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bundleContentIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"REPEAT"</span><span class="p">,</span><span class="w"> </span><span class="s2">"NETWORK"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"601a8ea4f2149f089782814f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">289.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bengaluru (nagashettyhalli)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-25T09:52:52.814Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIPTION"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription 5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"operatingSystem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desktop"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616ffd76621d69c5ee43c044"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616ffd76621d69c5ee43c045"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"renewalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61efc865acb0d82962e2ad14"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"renewalDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can register your webhook endpoint for receiving data whenever a user cancels their subscription via ConsCent - by logging in to your ConsCent Client Dashboard and navigating to the Webhook Page. You will be able to enable/disable and edit your webhook url from this section. Once the webhook URL is registered and the webhook is in the enabled state - the endpoint will recieve user&#39;s cancelled subscription data, along with the details of the subscription and the last purchase/renewal of the user for the particular subscription - anytime the user cancels a client&#39;s subscription via ConsCent. Moreover, the webhook is secured by basic auth using the Clients API Key and API Secret provided by ConsCent on the SDK Integration section of the client dashboard - ConsCent Client Integration. You can optionally choose to keep the endpoint as protected and authenticate using the provided credentials which are passed in the headers of the POST request to the configured webhook endpoint.</p>
<h3 id='description-4'>Description</h3>
<p>This event occurs whenever the user cancels the auto renew enabled subscription from ConsCent Dashboard.</p>

<blockquote>
<p>The webhook returns a JSON in the request body - structured like this:</p>
</blockquote>
<h2 id='5-pass-payment-webhook'>5. Pass Payment Webhook</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"inrGstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"manuallyRenewed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"renewSubscription"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bundleContentIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"NEW"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"628b76941ed3d9c772be2626"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"628b765e16d01ac4721e1676"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientContentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client-Story-Id-1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"628b6c2cbf5053737a28a63a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bengaluru (nagashettyhalli)"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.0411</span><span class="p">,</span><span class="w">
    </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">77.5702</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560056"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"userCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-23T18:57:07.989Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"passTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qwe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PASS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"operatingSystem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desktop"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-23T11:57:08.061Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-23T11:57:08.061Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"628b765e16d01ac4721e1676"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9276278392"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>You can register your webhook endpoint for receiving data whenever a user pays for their pass via ConsCent - by logging in to your ConsCent Client Dashboard and navigating to the Webhook Page. You will be able to enable/disable and edit your webhook url from this section. Once the webhook URL is registered and the webhook is in the enabled state - the endpoint will recieve user&#39;s pass payment data, along with the details of the pass and the last purchase/renewal of the user for the particular pass - anytime the user purchases a client&#39;s pass via ConsCent. Moreover, the webhook is secured by basic auth using the Clients API Key and API Secret provided by ConsCent on the SDK Integration section of the client dashboard - ConsCent Client Integration. You can optionally choose to keep the endpoint as protected and authenticate using the provided credentials which are passed in the headers of the POST request to the configured webhook endpoint.</p>
<h3 id='descrption'>Descrption:</h3>
<p>This event occurs when the user buys the Pass.</p>

<blockquote>
<p>The webhook returns a JSON in the request body - structured like this:</p>
</blockquote>
<h2 id='6-subscription-bundle-payment-webhook'>6. Subscription Bundle Payment Webhook</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"purchaseId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62d02f1bf3299d7b21d4a235"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623b1204ff6e065272e3530b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asd@asd.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9876543211"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asdasdasd"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SIKKIM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asdsa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asdasdasdas"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"110089"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"userGender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MALE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userEmploymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULL_TIME"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"utmParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KJ007"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"bundleBuyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">332</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bundlePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">369</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bundlePriceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">369</span><span class="p">,</span><span class="w"> </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"subscriptionsDetail"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digital"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currencySymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">90.00</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Client TSB media venture a"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digital"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currencySymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">242.10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"269.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test client b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can register your webhook endpoint for receiving data whenever a user pays for their subscription bundle via ConsCent - by logging in to your ConsCent Client Dashboard and navigating to the Webhook Page. You will be able to enable/disable and edit your webhook url from this section. Once the webhook URL is registered and the webhook is in the enabled state - the endpoint will recieve user&#39;s subscription bundle payment data, along with the details of the bundle - anytime the user purchases a client&#39;s subscription bundle via ConsCent. Moreover, the webhook is secured by basic auth using the Clients API Key and API Secret provided by ConsCent on the SDK Integration section of the client dashboard - ConsCent Client Integration. You can optionally choose to keep the endpoint as protected and authenticate using the provided credentials which are passed in the headers of the POST request to the configured webhook endpoint.</p>
<h3 id='description-5'>Description</h3>
<p>This event occurs when the user buys bundle subscription.</p>

<blockquote>
<p>The webhook returns a JSON in the request body - structured like this:</p>
</blockquote>
<h2 id='7-review-subscription-webhook'>7. Review Subscription Webhook</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9847598673"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6345116cb9beaf3033c065cc"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hashedPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiJ9.OTg0NzU5ODY3Mw.7tvT8abeu_sGEWSfKdgYRRo7oZ65qBwatyFIF1VOhGY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defence colony"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">28.5714</span><span class="p">,</span><span class="w">
    </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">77.2327</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"browser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chrome"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"os"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9847598673"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61e951161a563d0729652d21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61e951161a563d0729652d23"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AD Free"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can register your webhook endpoint for receiving ConsCent review subscription data i.e.(dropoff users) by logging in to your ConsCent Client Dashboard and navigating to the <a href="https://client.conscent.in/dashboard/webhook">Webhook Page</a>. You will be able to enable/disable and edit your webhook url from this section. Once the webhook URL is registered and the webhook is in the enabled state - the endpoint will recieve user&#39;s review subscription data, anytime the user makes the payment for buying a subscription and comes to the review page on the client&#39;s platform or application via ConsCent.The review subscription webhook lets us keep the records of drop off users.Moreover, the webhook is secured by basic auth using the Clients API Key and API Secret provided by ConsCent on the SDK Integration section of the client dashboard - <a href="https://client.conscent.in/dashboard/integration">ConsCent Client Integration</a>. You can optionally choose to keep the endpoint as protected and authenticate using the provided credentials which are passed in the headers of the POST request to the configured webhook endpoint.</p>
<h3 id='description-6'>Description</h3>
<p>This event occurs just before the user confirms the payment for buying a subscription on the review page.</p>

<blockquote>
<p>The webhook returns a JSON in the request body - structured like this:</p>
</blockquote>
<h2 id='8-micro-payment-webhook'>8. Micro Payment Webhook</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"inrGstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adFree"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bundleContentIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"REPEAT"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6437ade44c60bc0552ad3477"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"642ed4902107e35b19bf29fa"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paywallId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6435427bb0658c70abe7d18d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientContentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client-Story-Id-4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61fa72efb76afa4ce17fde95"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">79.2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
  </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deoli"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">28.5025</span><span class="p">,</span><span class="w">
    </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">77.2312</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"userCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-20T07:23:16.810Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONTENT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"operatingSystem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desktop"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-13T07:23:16.829Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-13T07:23:16.829Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"642ed4902107e35b19bf29fa"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9488298324"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can register your webhook endpoint for receiving ConsCent purchased content data by logging in to your ConsCent Client Dashboard and navigating to the Webhook Page. You will be able to enable/disable and edit your webhook url from this section. Once the webhook URL is registered and the webhook is in the enabled state - the endpoint will recieve user&#39;s purchased content data anytime the user purchases any content on the client&#39;s platform or application via ConsCent. Moreover, the webhook is secured by basic auth using the Clients API Key and API Secret provided by ConsCent on the SDK Integration section of the client dashboard - ConsCent Client Integration. You can optionally choose to keep the endpoint as protected and authenticate using the provided credentials which are passed in the headers of the POST request to the configured webhook endpoint.</p>
<h3 id='description-7'>Description</h3>
<p>This event occurs when the user makes the payment for per article/content.</p>

<blockquote>
<p>The webhook returns a JSON in the request body - structured like this:</p>
<h1 id='api'>API</h1></blockquote>
<h2 id='user-details-and-subscriptions-information'>User Details and Subscriptions Information</h2>
<blockquote>
<p>Content Examples:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userdetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AKHIL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testmail51@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"secondaryPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9832748888"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"secondaryEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1999-01-01T09:50:21.951Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ouy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"029384kdsjf"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"530009"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fj"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8732489"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"promotionalOptIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastPurchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-08T11:37:31.667Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"$numberDecimal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.00"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"userSubscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62273ffbd5c69afcd7c05349"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"client"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outlook"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"purchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-08T11:37:31.537Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription test physical"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-08T11:37:31.518Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"benefits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Easy access to contents"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://conscent-public.s3.ap-south-1.amazonaws.com/stage/Outlook/banners/Outlook%20-%20brandLogo"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rzpSubscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_J4a4NYpUc0qDMU"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61a49984fabe8d7705a2cabd"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"subscriptionDurationInMonths"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionPriceInInr"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowCancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancellationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000/consumption?subscription=62273ffbd5c69afcd7c05349"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowRenewal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"renewalUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get the user Details and subscriptions</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>GET {API_URL}/user/user-and-subscription-details</code></p>

<p><code>Auth required : NO</code></p>
<h3 id='mandatory-query-parameters'>Mandatory query Parameters</h3>
<p><code>clientId: Pass clientId</code></p>

<p><code>userId: Pass conscent&#39;s user Id to get the user details</code></p>

<p><code>Success Response Code : 200 OK</code></p>
<h2 id='purchased-subscriptions'>Purchased Subscriptions</h2>
<blockquote>
<p>Content Examples:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"purchases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"manuallyRenewed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"renewSubscription"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"617ba48ec3b5066393988f22"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientContentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Story Id 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fbe46efbee15f1cebc81515"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.36</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">104</span><span class="p">,</span><span class="w">
      </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">104</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"subscriptionDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inrPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">104</span><span class="p">,</span><span class="w">
        </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-28T12:49:02.844Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61a49855fabe8d7705a2cab4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61a49855fabe8d7705a2cab6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-03T09:13:53.266Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"613720ec6a14e1100bdfb9f5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asdf@sdf.co"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"129347792"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asdf"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"clientSpecificUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234234612"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"manuallyRenewed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"renewSubscription"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientContentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Story Id 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fbe46efbee15f1cebc81515"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">193.97</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w">
      </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"subscriptionDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inrPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w">
        </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-25T08:00:12.714Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"617a718d04ab353a12d84d30"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6180db518634ae0b03c136b5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fca03a52185f150382ff144"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test+stagetest@test.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test name"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"India"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"India"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123423"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"India"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANDHRA PRADESH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"clientSpecificUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234234612"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"paginationInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"recordsReturned"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get the details of previously purchased subscriptions</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>GET {API_URL}/client/purchases/subscriptions</code></p>

<p><code>Auth required : YES</code></p>

<p>Please pass your api key as username and api secret as password as basic auth to access the endpoint</p>
<h3 id='mandatory-query-parameters-2'>Mandatory query Parameters</h3>
<p><code>userId: Pass conscent&#39;s user Id to filter purchases for one particular user</code></p>

<p><code>pageSize: Max Number of records returned per page - defaults to 500. Max possible value is 2000</code></p>

<p><code>pageNumber: The page number</code></p>

<p><code>Success Response Code : 200 OK</code></p>

<p><code>from: ISODateString, to filter via a starting datetime</code></p>

<p><code>to: ISODateString, to filter via an ending datetime</code></p>
<h2 id='user-and-purchase-details'>User and Purchase Details</h2>
<blockquote>
<p>Content Examples:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userdetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pushpankar"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9936225088"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"secondaryEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"skdfjn@jnadf.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flat"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Area"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zip"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANDAMAN &amp; NICOBAR ISLANDS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"promotionalOptIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastPurchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-17T14:01:00.411Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"$numberDecimal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"userSubscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63b2b8b938dcac1e9a1d55c6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"client"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Client"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gst"</span><span class="p">:</span><span class="w"> </span><span class="mf">61.01711999999999</span><span class="p">,</span><span class="w">
            </span><span class="nl">"purchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-02T10:58:01.603Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digital"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-02-02T10:58:01.600Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"adFree"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"benefits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"It's very good,Very Helpful,Good to read,Good content,50% OFF, 100% OFF"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://conscent-public.s3.ap-south-1.amazonaws.com/Static+Assets/Outlook-Logo.png</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6347b644bff071350cfd0f55"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"subscriptionDurationInMonths"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionPriceInInr"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowCancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancellationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowRenewal"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"renewalUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://dashboards.tsbdev.co/dashboard/consumption?subscription=63b2b8b938dcac1e9a1d55c6"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"637f9be1837ec364a7fa1683"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"client"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Client"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gst"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.4745972</span><span class="p">,</span><span class="w">
            </span><span class="nl">"purchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-11-24T16:29:21.159Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AD Free-Lite"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-12-24T16:29:21.153Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"adFree"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"benefits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ad-free experience, Digital Access, Premium Content"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://conscent-public.s3.ap-south-1.amazonaws.com/Static+Assets/Outlook-Logo.png</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tierId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61e951161a563d0729652d23"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"subscriptionDurationInMonths"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subscriptionPriceInInr"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowCancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancellationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowRenewal"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"renewalUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://dashboards.tsbdev.co/dashboard/consumption?subscription=637f9be1837ec364a7fa1683"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"passes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"637c710d7153ef201cd8be8f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"client"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Client"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gst"</span><span class="p">:</span><span class="w"> </span><span class="mf">11.898338399999998</span><span class="p">,</span><span class="w">
            </span><span class="nl">"purchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-11-22T06:49:49.989Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-11-22T13:49:49.968Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"payPerUses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"643d511c0dfb996ad37a0f1c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"client"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Client"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gst"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.525428</span><span class="p">,</span><span class="w">
            </span><span class="nl">"purchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-17T14:01:00.377Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-24T14:01:00.350Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"642bbb2b5a3e9b1441cbb058"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"client"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Client"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">9999</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gst"</span><span class="p">:</span><span class="w"> </span><span class="mf">1525.2754572</span><span class="p">,</span><span class="w">
            </span><span class="nl">"purchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-04T05:52:43.823Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-06T05:52:43.810Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64103ec1644c430727a2b654"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"client"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Client"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gst"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.525428</span><span class="p">,</span><span class="w">
            </span><span class="nl">"purchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-14T09:30:41.364Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-16T09:30:41.345Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"637f9b78837ec364a7fa151c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"client"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Client"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gst"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.4406848</span><span class="p">,</span><span class="w">
            </span><span class="nl">"purchasedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-11-24T16:27:36.304Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-11-26T16:27:36.294Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gstComponents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"physical"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"digital"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get the user Details and subscriptions</p>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>GET {API_URL}/user/user-and-purchase-details</code></p>

<p><code>Auth required : NO</code></p>
<h3 id='mandatory-query-parameters-3'>Mandatory query Parameters</h3>
<p><code>clientId: Pass clientId</code></p>

<p><code>userId: Pass conscent&#39;s user Id to get the user details</code></p>

<p><code>email: Pass the email</code></p>

<p><code>phoneNumber: Pass the phoneNumber</code></p>

<p><code>Success Response Code : 200 OK</code></p>

<p><code>pageSize: Max Number of records returned per page - defaults to 500. Max possible value is 2000</code></p>

<p><code>pageNumber: The page number</code></p>

<p><code>from: ISODateString, to filter via a starting datetime</code></p>

<p><code>to: ISODateString, to filter via an ending datetime</code></p>
<h2 id='client-purchases'>Client Purchases</h2>
<blockquote>
<p>Content Examples:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"transactionDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"643e49dc2309ab30bc00ccf2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userAccount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8712334265"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bnnnn@gmail.com"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Client"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client-Story Id 1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://csc-mock.netlify.app/5f92a62013332e0f667794dc/Client-Story-Id-1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">319.21</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">399</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PASS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-18T07:42:20.749Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalPages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get the details of the purchases</p>
<h3 id='http-request-16'>HTTP Request</h3>
<p><code>GET {API_URL}/client/purchases</code></p>

<p><code>Auth required : YES</code></p>

<p>Please pass your api key as username and api secret as password as basic auth to access the endpoint</p>
<h3 id='mandatory-query-parameters-4'>Mandatory query Parameters</h3>
<p><code>userId: Pass conscent&#39;s user Id to filter purchases for one particular user</code></p>

<p><code>email: Pass the email</code></p>

<p><code>phoneNumber: Pass the phoneNumber</code></p>

<p><code>pageSize: Max Number of records returned per page - defaults to 500. Max possible value is 2000</code></p>

<p><code>pageNumber: The page number</code></p>

<p><code>Success Response Code : 200 OK</code></p>

<p><code>from: ISODateString, to filter via a starting datetime</code></p>

<p><code>to: ISODateString, to filter via an ending datetime</code></p>
<h2 id='client-passes'>Client Passes</h2>
<blockquote>
<p>Content Examples:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"purchases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientContentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client-Story-Id-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61fba4adcbcaaf727a00168d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">319.21</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">399</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">399</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-18T14:42:20.741Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-18T07:42:20.749Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6346608680c2216fe33d84fa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bnnnn@gmail.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8243334265"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kajal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ggghhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kkkkkhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"922111"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sasshhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jjjjjhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ffffffhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iiiiihhh"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"paginationInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recordsReturned"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get the details of the passes</p>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>GET {API_URL}/client/purchases/passes</code></p>

<p><code>Auth required : YES</code></p>

<p>Please pass your api key as username and api secret as password as basic auth to access the endpoint</p>
<h3 id='mandatory-query-parameters-5'>Mandatory query Parameters</h3>
<p><code>userId: Pass conscent&#39;s user Id to filter purchases for one particular user</code></p>

<p><code>email: Pass the email</code></p>

<p><code>phoneNumber: Pass the phoneNumber</code></p>

<p><code>pageSize: Max Number of records returned per page - defaults to 500. Max possible value is 2000</code></p>

<p><code>pageNumber: The page number</code></p>

<p><code>Success Response Code : 200 OK</code></p>

<p><code>from: ISODateString, to filter via a starting datetime</code></p>

<p><code>to: ISODateString, to filter via an ending datetime</code></p>
<h2 id='client-micropayments'>Client Micropayments</h2>
<blockquote>
<p>Content Examples:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"purchases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientContentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client-Story-Id-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61fba4adcbcaaf727a00168d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-15T10:22:57.494Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-13T10:22:57.507Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6346608680c2216fe33d84fa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bnnnn@gmail.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8750314176"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kajal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ggghhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kkkkkhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"922111"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sasshhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jjjjjhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ffffffhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iiiiihhh"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientContentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client-Story-Id-3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"620b94557bef8873d93bf32b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-26T06:58:54.416Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-16T06:58:54.434Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6346608680c2216fe33d84fa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bnnnn@gmail.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8750334265"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kajal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ggghhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kkkkkhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"922111"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sasshhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jjjjjhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ffffffhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iiiiihhh"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"availedOffers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"promotional"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"freeTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"migrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f92a62013332e0f667794dc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientContentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client-Story-Id-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61fba4adcbcaaf727a00168d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"buyingPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-02-11T07:39:49.821Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-02-09T07:39:49.856Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6346608680c2216fe33d84fa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bnnnn@gmail.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8750334265"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kajal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ggghhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kkkkkhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"922111"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"landmark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sasshhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jjjjjhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ffffffhhh"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iiiiihhh"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"paginationInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recordsReturned"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Get the details of the micro-payments</p>
<h3 id='http-request-18'>HTTP Request</h3>
<p><code>GET {API_URL}/client/purchases/micropayments</code></p>

<p><code>Auth required : YES</code></p>

<p>Please pass your api key as username and api secret as password as basic auth to access the endpoint</p>
<h3 id='mandatory-query-parameters-6'>Mandatory query Parameters</h3>
<p><code>userId: Pass conscent&#39;s user Id to filter purchases for one particular user</code></p>

<p><code>email: Pass the email</code></p>

<p><code>phoneNumber: Pass the phoneNumber</code></p>

<p><code>pageSize: Max Number of records returned per page - defaults to 500. Max possible value is 2000</code></p>

<p><code>pageNumber: The page number</code></p>

<p><code>Success Response Code : 200 OK</code></p>

<p><code>from: ISODateString, to filter via a starting datetime</code></p>

<p><code>to: ISODateString, to filter via an ending datetime</code></p>
<h2 id='cancel-active-subscriptions'>Cancel Active Subscriptions</h2>
<p>The client can cancel the active subscripptions for a user</p>
<h3 id='http-request-19'>HTTP Request</h3>
<p><code>POST {API_URL}/client/cancel-subscriptions/{userId}</code></p>

<p>Please pass the ConsCent user id of the user whose subscriptions you wish to cancel</p>

<p><code>Auth required : YES</code></p>

<p>Please pass your api key as username and api secret as password as basic auth to access the endpoint</p>

<p><code>Success Response Code : 200 OK</code></p>
<h3 id='content-examples'>Content examples</h3>
<p>{
    &quot;message&quot;: &quot;Subscriptions Cancelled Successfully&quot;
}</p>
<h1 id='login'>Login</h1><div class="highlight"><pre class="highlight jsx tab-jsx"><code><span class="kd">const</span> <span class="nx">csc</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_csc</span> <span class="k">as</span> <span class="nx">any</span><span class="p">;</span>
    <span class="nx">csc</span><span class="p">(</span><span class="dl">'</span><span class="s1">conscent-login</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">debug</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">clientId</span><span class="p">:</span> <span class="nx">clientId</span><span class="p">,</span>
      <span class="na">defaultEmail</span><span class="p">:</span> <span class="nx">defaultEmail</span> <span class="o">||</span> <span class="dl">''</span><span class="p">,</span>
      <span class="na">defaultName</span><span class="p">:</span> <span class="nx">defaultName</span> <span class="o">||</span> <span class="dl">''</span><span class="p">,</span>
      <span class="na">defaultPhone</span><span class="p">:</span> <span class="nx">defaultPhone</span> <span class="o">||</span> <span class="dl">''</span><span class="p">,</span>
      <span class="na">wrappingElementId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">embed</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">successCallback</span><span class="p">:</span> <span class="k">async</span> <span class="p">(</span><span class="na">userDetailsObject</span><span class="p">:</span> <span class="nx">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Success callback received from conscent login</span><span class="dl">'</span><span class="p">,</span> <span class="nx">userDetailsObject</span><span class="p">);</span>
        <span class="nx">setUserDetails</span><span class="p">(</span><span class="nx">userDetailsObject</span><span class="p">);</span>
        <span class="nx">props</span><span class="p">.</span><span class="nx">setShowLoginModal</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
      <span class="p">},</span>
      <span class="na">onCrossBtnClickSuccess</span><span class="p">:</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">cross btn click successfully</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">props</span><span class="p">.</span><span class="nx">setShowLoginModal</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
      <span class="p">},</span>
      <span class="na">unauthorizedCallback</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">unauthorized callback called</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">},</span>
    <span class="p">});</span>

</code></pre></div>
<p>Integrating ConsCent on your Website is a simple and direct process. The following steps explain how to create credentials for your project. Your applications can then use the credentials to access APIs that you have enabled for that project. You start by copying the code on the right hand side within the script tags - and adding it to the header section of your Route Index file.
You can get your ConsCent Client Id from the Client Integration Page of the ConsCent Client Dashboard - as mentioned in the Registration Section.
Including this regular script in the header section allows the ConsCent Login to be initalised and further used whenever user requires to login.
Finally, In order to ensure that the ConsCent Login appears on your site. You need to implement the &#39;csc_init&#39; function on the content page - included on the right hand side of the ConsCent Login and enables a user to login through ConsCent on your website. Please ensure that you call this function anytime you want the ConsCent Login to show up on your content page.
We import the initalisation script using the unique &#39;_csc&#39; identifier and run the &#39;csc_init&#39; function by passing a number of parameters.</p>

<p>This script can be called anywhere as you already have the SDK script to your header section. </p>
<div class="highlight"><pre class="highlight jsx tab-jsx"><code><span class="c1">//call this method on login button click</span>
<span class="kd">const</span> <span class="nx">callLogoutBtn</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">csc</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_csc</span> <span class="k">as</span> <span class="nx">any</span><span class="p">;</span>
    <span class="nx">csc</span><span class="p">(</span><span class="dl">'</span><span class="s1">logout</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">debug</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">clientId</span><span class="p">:</span> <span class="nx">clientId</span><span class="p">,</span>
      <span class="na">wrappingElementId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">logout</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">logoutCallback</span><span class="p">:</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">yyy</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">},</span>
      <span class="na">unauthorizedCallback</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">unauthorized callback called</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">},</span>
    <span class="p">});</span>
  <span class="p">};</span>
</code></pre></div><h1 id='app-integration'>App Integration</h1><h2 id='kotlin'>Kotlin</h2><h3 id='conscent-plugin-for-developers'>ConsCent Plugin for developers</h3>
<p>This is a step by step guide to include ConsCent Plugin in your app. This plugin is developed in Kotlin and supports both Java and Kotlin languages and supports <code>Api 23 (Android 6.0)</code> and above.</p>
<h3 id='step-1'>Step-1</h3>
<p>Copy plugin&#39;s aar file to your libs folder and add it in your app level build gradle file.</p>
<h3 id='step-2'>Step-2</h3>
<p>In your application build.gradle file, include dependency as below with latest versions:</p>

<p>Retrofit and GSON converter implementation &#39;com.squareup.retrofit2:retrofit:(insert latest version)&#39; implementation &#39;com.squareup.retrofit2:converter-gson:(insert latest version)&#39;</p>

<ul class = 'instruction-bg-url'>
  <li>
 Example:
    <ul>
      <li>implementation 'com.squareup.retrofit2:retrofit:2.9.0'</li>
      <li>Simplementation 'com.squareup.retrofit2:converter-gson:2.9.0'
</li>
    </ul>
  </li>
</ul>

<p>Coroutines implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:(insert latest version)&#39; Example: implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.4.2&#39;</p>

<p>Browser implementation &#39;androidx.browser:browser:(insert latest version)&#39;</p>

<ul class = 'instruction-bg-url'>
  <li>
 Example:
    <ul>
      <li>implementation 'androidx.browser:browser:1.3.0'</li>

    </ul>
  </li>
</ul>

<p><code>Let us know the version of your browser, kotlinx-coroutines-android</code></p>

<p><code>Note:</code></p>

<p><code>1. In case of error for Kotlin not enabled, please enable Kotlin for project.</code></p>

<p><code>2. In case of error in Manifest merging, please merge Manifest as per Android Studio support or include line tools:replace=&quot;android:icon,android:roundIcon&quot; inside your application tag in Android Manifest file.</code></p>
<h3 id='step-3'>Step-3</h3>
<p>In your application (recommended) or root activity class&#39;s onCreate, pass applicationContext, yourClientId, accentColor, Environment Mode and App Mode to be used in your app as below sample: ConscentWrapper.configure(yourApplicationContext, yourClientId, yourAccentColor, MODE, APP_MODE) Remember to set configuration before you call further callbacks.</p>

<ol>
<li>yourApplicationContext: Pass your application context here.</li>
<li>yourClientId: Pass your clientId received from Conscent.</li>
<li>yourAccentColor: Pass your accentColor for the app.</li>
<li>Mode can be set as :
<ul class = 'instruction-bg-url'>
<li>
<ul>
  <li>ConscentConfiguration.MODE.STAGE</li>
  <li>ConscentConfiguration.MODE.SANDBOX
</li>
 <li>ConscentConfiguration.MODE.PRODUCTION
</li>
</ul>
</li>
</ul></li>
</ol>

<p>Mode is used for configuration testing of different environments available.</p>

<p>5.APP_MODE can be set as <code>ConsCentConfiguration.APP_MODE.DEBUG</code> <code>ConsCentConfiguration.APP_MODE.PROD</code>
APP_MODE is basically used for checking debug and production environment of app. If APP_MODE is DEBUG , then all errors will be shown as Toast messages and Logs. If APP_MODE is PROD, only logs will be available for critical errors like Network unavailability, wrong client_id and wrong content_id.</p>

<p>You can later change your clientId also, by calling the following function:</p>

<p>ConscentWrapper.changeClientId(yourClientId), throws &quot;Configure ConscentWrapper first!&quot; if not configured already!</p>
<h3 id='step-4'>Step-4</h3>
<p>Create an instance of the ConsCent class for each unique contentId (recommended) for more control over your content flow. Use the below described method:</p>
<h3 id='kotlin-2'>Kotlin</h3>
<p><code>val instance = ConscentWrapper.getConscentInstance(
        yourCallingActivity,
        yourParentView,
        yourContainerView,
        contentId,
        onConscentListener
)</code></p>
<h3 id='java'>Java</h3>
<p><code>Conscent instance = ConscentWrapper.Companion.getConscentInstance(
        yourCallingActivity,
        yourParentView,
        yourContainerView,
        contentId,
        onConscentListener
);</code></p>

<p><code>All parameter details are given at the bottom.</code></p>
<h3 id='step-5'>Step-5</h3>
<p>To check if an article/content is free/paid or a payment needs to be done, in your class, use as below sample: Parameters detail can be checked below for more information.</p>
<h3 id='kotlin-3'>Kotlin</h3>
<p><code>instance.checkContentAccess(
        yourContentTitle,
        yourSubsUrl,
        canSubscribe,
        showClose
    )</code></p>
<h3 id='java-2'>Java</h3>
<p><code>instance.checkContentAccess(
        yourContentTitle,
        yourSubsUrl,
        canSubscribe,
        showClose
    );</code></p>

<p>To get all the subscription packages available, in your class, use as below sample: Parameters detail can be checked below for more information.</p>
<h3 id='kotlin-4'>Kotlin</h3>
<p><code>instance.checkSubscriptions(
        yourContentTitle,
        yourSubsUrl,
        showClose
    )</code></p>
<h3 id='java-3'>Java</h3>
<p><code>instance.checkSubscriptions(
        yourContentTitle,
        yourSubsUrl,
        showClose
   );</code></p>
<h3 id='parameters-detail'>Parameters detail</h3>
<ul>
<li><code>yourCallingActivity</code> (Activity): This is your activity content which is calling the methods and where callback will be received.</li>
<li><code>yourParentView</code> (ConstraintLayout): This will be the parent of your layout. Please keep ConstraintLayout as your root view in your activity xml file. Pass the reference of your root view in checkContent function.</li>
<li><code>yourContainerView</code> (FrameLayout): This will be a FrameLayout where payment page will be inflated. Create a frameLayout in your xml and pass here as a reference. </li>
</ul>

<p>For eg:</p>

<p><code>&lt;FrameLayout
        android:id=&quot;@+id/frame&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot; /&gt;</code>
</aside></p>

<p><code>Eg: Color.parseColor(&quot;#0087ca&quot;) or ContextCompat.getColor(context, color_from_colors.xml) like ContextCompat.getColor(this, R.color.red)</code></p>

<ul>
<li><code>contentId</code> (String): This will be your article or content id for which detail needs to be checked.</li>
<li><code>OnConscentListener</code> : You can pass a listener which will get called after success or failure in processing. If you pass a listener, after successful processing, the success reference will be called and for failed event, failure event will be called. You can implement OnConscentListener in your activity and then pass it as a reference.</li>
</ul>

<p><code>onSuccess</code>: This is the success callback which will get called for every successful processing. You can pass your method as a reference or a lambda expression which will get called in case of success.</p>

<p><code>onError</code>: This is optional. You can pass it as null. This is the failure callback which will get called for every failed processing. You can pass your method as a reference or a lambda expression and it&#39;ll get called for failed cases. You can implement your code in it for failed cases.</p>

<p><code>onSubscribe</code>: This is optional callback. If you want to inflate subscribe layout, pass a subscribe function which will be called when subscribe button will be clicked inside the payment flow. Passing null will not inflate subscribe layout.</p>

<p><code>onBuyPass</code> : This is optional callback. It will be called when buy-pass button will be clicked inside the payment flow.</p>

<p><code>onSignIn</code> : This is the callback function which will be called when a user clicks on signIn button in payment flow. This will be only visible if subscribe layout has been inflated.</p>

<p><code>onAdFree</code>: This is the callback function which will be called when a user clicks on adfree subscription.</p>

<ul>
<li><code>yourContentTitle</code> (String - Optional): Title of the content for display purposes.</li>
<li><code>yourSubsUrl</code> (String - Optional): Url to be used when subscribe button is clicked.</li>
<li><code>canSubscribe</code> (Boolean - Optional): Pass this as &quot;true&quot; to show subscribe layout else <code>false</code>.</li>
<li><code>showClose</code> (Boolean - Optional): Pass this as &quot;true&quot; to show close button on the paywall/subscriptions, default value is <code>false</code>.</li>
</ul>
<h3 id='step-6'>Step-6</h3>
<p>In you onActivityResult method, pass below line of code: instance.handledIntent()</p>

<ul>
<li><p>To get logged in user details:</p>
<h3 id='kotlin-5'>Kotlin</h3>
<p><code>ConscentWrapper.INSTANCE?.getUserDetails()</code></p>
<h3 id='java-4'>Java</h3>
<p><code>ConscentWrapper.Companion.getUserDetails();</code></p></li>
<li><p>To get subscription details:</p>
<h3 id='kotlin-6'>Kotlin</h3>
<p><code>ConscentWrapper.INSTANCE?.getSubscriptionDetails()</code></p>
<h3 id='java-5'>Java</h3>
<p><code>ConscentWrapper.Companion.INSTANCE?.getSubscriptionDetails();</code></p></li>
<li><p>To get pass details:</p>
<h3 id='kotlin-7'>Kotlin</h3>
<p><code>ConscentWrapper.INSTANCE?.getPassDetails()</code></p>
<h3 id='java-6'>Java</h3>
<p><code>ConscentWrapper.Companion.INSTANCE?.getPassDetails();</code></p></li>
<li><p>To logout the user:</p>
<h3 id='kotlin-8'>Kotlin</h3>
<p><code>ConscentWrapper.INSTANCE?.logoutUser()</code></p></li>
</ul>
<h3 id='java-7'>Java</h3>
<p><code>ConscentWrapper.Companion.INSTANCE?.logoutUser();</code></p>
<h1 id='loyalty-system'>Loyalty System</h1><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">const</span> <span class="no">sdk</span> <span class="o">=</span> <span class="k">require</span><span class="p">(</span><span class="s1">'api'</span><span class="p">)(</span><span class="s1">'@conscent/v1.0#5zb7qx16lh0lc3b3'</span><span class="p">);</span>


<span class="n">sdk</span><span class="mf">.</span><span class="nf">auth</span><span class="p">(</span><span class="s1">'{API Key}'</span><span class="p">);</span>
<span class="n">sdk</span><span class="mf">.</span><span class="nf">gettingStartedWithYourApi</span><span class="p">({</span>
  <span class="n">eventType</span><span class="o">:</span> <span class="s1">'ORDER_PLACED'</span><span class="p">,</span>
  <span class="n">userId</span><span class="o">:</span> <span class="s1">'42bede01c83fa3947'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="n">cleint_id</span><span class="o">:</span> <span class="s1">'client_id'</span><span class="p">,</span>
  <span class="n">accept</span><span class="o">:</span> <span class="s1">'text/plain'</span>
<span class="p">})</span>
  <span class="mf">.</span><span class="nf">then</span><span class="p">(({</span> <span class="n">data</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="n">console</span><span class="mf">.</span><span class="nb">log</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
  <span class="mf">.</span><span class="k">catch</span><span class="p">(</span><span class="n">err</span> <span class="o">=&gt;</span> <span class="n">console</span><span class="mf">.</span><span class="nf">error</span><span class="p">(</span><span class="n">err</span><span class="p">));</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>const sdk <span class="o">=</span> require<span class="o">(</span><span class="s1">'api'</span><span class="o">)(</span><span class="s1">'@conscent/v1.0#5zb7qx16lh0lc3b3'</span><span class="o">)</span><span class="p">;</span>


sdk.auth<span class="o">(</span><span class="s1">'{API Key}'</span><span class="o">)</span><span class="p">;</span>
sdk.gettingStartedWithYourApi<span class="o">({</span>
  eventType: <span class="s1">'ORDER_PLACED'</span>,
  userId: <span class="s1">'42bede01c83fa3947'</span>
<span class="o">}</span>, <span class="o">{</span>
  cleint_id: <span class="s1">'client_id'</span>,
  accept: <span class="s1">'text/plain'</span>
<span class="o">})</span>
  .then<span class="o">(({</span> data <span class="o">})</span> <span class="o">=&gt;</span> console.log<span class="o">(</span>data<span class="o">))</span>
  .catch<span class="o">(</span>err <span class="o">=&gt;</span> console.error<span class="o">(</span>err<span class="o">))</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">api</span><span class="dl">'</span><span class="p">)(</span><span class="dl">'</span><span class="s1">@conscent/v1.0#5zb7qx16lh0lc3b3</span><span class="dl">'</span><span class="p">);</span>


<span class="nx">sdk</span><span class="p">.</span><span class="nx">auth</span><span class="p">(</span><span class="dl">'</span><span class="s1">{API Key}</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">sdk</span><span class="p">.</span><span class="nx">gettingStartedWithYourApi</span><span class="p">({</span>
  <span class="na">eventType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ORDER_PLACED</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">userId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">42bede01c83fa3947</span><span class="dl">'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="na">cleint_id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">client_id</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">accept</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text/plain</span><span class="dl">'</span>
<span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(({</span> <span class="nx">data</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">));</span>

</code></pre></div><h3 id='post-event-api-from-server'>Post Event API from Server</h3>
<p>This API is used to Post Events from your server directly to BluePine. This is the recommended way of Posting Event.</p>

<p><code>https://api.conscent.club/reward/{cleint_id}/api/user_event</code></p>

<p>Node.Js API structure:</p>
<h1 id='autologin-functionality'>AutoLogin Functionality</h1><div class="highlight"><pre class="highlight jsx tab-jsx"><code> <span class="nx">csc</span><span class="p">(</span><span class="dl">'</span><span class="s1">auto-login</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">clientId</span><span class="p">:</span> <span class="nx">clientId</span><span class="p">,</span>
      <span class="na">token</span><span class="p">:</span> <span class="nx">tokenEntered</span><span class="p">,</span>
      <span class="na">phone</span><span class="p">:</span> <span class="nx">data</span><span class="p">?.</span><span class="nx">phoneNumber</span><span class="p">,</span>
      <span class="na">email</span><span class="p">:</span> <span class="nx">data</span><span class="p">?.</span><span class="nx">email</span><span class="p">,</span>
      <span class="na">successCallbackFunction</span><span class="p">:</span> <span class="k">async</span> <span class="p">(</span><span class="na">userDetailsObject</span><span class="p">:</span> <span class="nx">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">setShowLoginDetails</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Success callback received from conscent auto Login</span><span class="dl">'</span><span class="p">,</span> <span class="nx">userDetailsObject</span><span class="p">);</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">login successfull</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">},</span>
      <span class="na">errorCallbackFunction</span><span class="p">:</span> <span class="p">(</span><span class="na">errorObject</span><span class="p">:</span> <span class="nx">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">errorObject</span><span class="p">);</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">login unsuccessfull</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">},</span>
      <span class="na">unauthorizedCallback</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">unauthorized callback called</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">},</span>
    <span class="p">});</span>
</code></pre></div>
<p>AutoLogin is a functionality that enables the client to use his own Login sysytem and get their users validated at ConsCent&#39;s System.</p>

<p>A temporary token is generated using an API and this token needs to be stored at Client&#39;s end.</p>
<h2 id='implementation'>Implementation</h2><h3 id='http-request'>HTTP REQUEST</h3>
<p><code>POST {API_URL}/client/generate-temp-token</code></p>

<p><code>Auth required : YES</code></p>
<h3 id='mandatory-query-parameters'>Mandatory query Parameters</h3>
<p><code>email: Pass email</code></p>

<p><code>phoneNumber: Pass phoneNumber</code></p>
<h3 id='authorization'>Authorization</h3>
<p>Client API Key and API Secret must be passed in Authorization Headers using Basic Auth. With API Key as the Username and API Secret as the password.</p>
<h3 id='response'>Response</h3>
<p><code>Success Response Code : 200 OK</code></p>

<p><code> 
{
    &quot;tempAuthToken&quot;: &quot;644a2c13ce90df4882d1787a&quot;
}
</code></p>
<h1 id='country-code-list'>Country Code List</h1>
<p>Afghanistan - AF</p>

<p>land Islands - AX</p>

<p>Albania - AL</p>

<p>Algeria - DZ</p>

<p>American Samoa - AS</p>

<p>Andorra - AD</p>

<p>Angola - AO</p>

<p>Anguilla - AI</p>

<p>Antarctica - AQ</p>

<p>Antigua and Barbuda - AG</p>

<p>Argentina - AR</p>

<p>Armenia - AM</p>

<p>Aruba - AW</p>

<p>Australia - AU</p>

<p>Austria - AT</p>

<p>Azerbaijan - AZ</p>

<p>Bahrain - BH</p>

<p>Bahamas - BS</p>

<p>Bangladesh - BD</p>

<p>Barbados - BB</p>

<p>Belarus - BY</p>

<p>Belgium - BE</p>

<p>Belize - BZ</p>

<p>Benin - BJ</p>

<p>Bermuda - BM</p>

<p>Bhutan - BT</p>

<p>Bolivia, Plurinational State of - BO</p>

<p>Bonaire, Sint Eustatius and Saba - BQ</p>

<p>Bosnia and Herzegovina - BA</p>

<p>Botswana - BW</p>

<p>Bouvet Island - BV</p>

<p>Brazil - BR</p>

<p>British Indian Ocean Territory - IO</p>

<p>Brunei Darussalam - BN</p>

<p>Bulgaria - BG</p>

<p>Burkina Faso - BF</p>

<p>Burundi - BI</p>

<p>Cambodia - KH</p>

<p>Cameroon - CM</p>

<p>Canada - CA</p>

<p>Cape Verde - CV</p>

<p>Cayman Islands - KY</p>

<p>Central African Republic - CF</p>

<p>Chad - TD</p>

<p>Chile - CL</p>

<p>China - CN</p>

<p>Christmas Island - CX</p>

<p>Cocos (Keeling) Islands - CC</p>

<p>Colombia - CO</p>

<p>Comoros - KM</p>

<p>Congo - CG</p>

<p>Congo, the Democratic Republic of the - CD</p>

<p>Cook Islands - CK</p>

<p>Costa Rica - CR</p>

<p>Cte d&#39;Ivoire - CI</p>

<p>Croatia - HR</p>

<p>Cuba - CU</p>

<p>Curaao - CW</p>

<p>Cyprus - CY</p>

<p>Czech Republic - CZ</p>

<p>Denmark - DK</p>

<p>Djibouti - DJ</p>

<p>Dominica - DM</p>

<p>Dominican Republic - DO</p>

<p>Ecuador - EC</p>

<p>Egypt - EG</p>

<p>El Salvador - SV</p>

<p>Equatorial Guinea - GQ</p>

<p>Eritrea - ER</p>

<p>Estonia - EE</p>

<p>Ethiopia - ET</p>

<p>Falkland Islands (Malvinas) - FK</p>

<p>Faroe Islands - FO</p>

<p>Fiji - FJ</p>

<p>Finland - FI</p>

<p>France - FR</p>

<p>French Guiana - GF</p>

<p>French Polynesia - PF</p>

<p>French Southern Territories - TF</p>

<p>Gabon - GA</p>

<p>Gambia - GM</p>

<p>Georgia - GE</p>

<p>Germany - DE</p>

<p>Ghana - GH</p>

<p>Gibraltar - GI</p>

<p>Greece - GR</p>

<p>Greenland - GL</p>

<p>Grenada - GD</p>

<p>Guadeloupe - GP</p>

<p>Guam - GU</p>

<p>Guatemala - GT</p>

<p>Guernsey - GG</p>

<p>Guinea - GN</p>

<p>Guinea-Bissau - GW</p>

<p>Guyana - GY</p>

<p>Haiti - HT</p>

<p>Heard Island and McDonald Islands - HM</p>

<p>Holy See (Vatican City State) - VA</p>

<p>Honduras - HN</p>

<p>Hong Kong - HK</p>

<p>Hungary - HU</p>

<p>Iceland - IS</p>

<p>India - IN</p>

<p>Indonesia - ID</p>

<p>Iran, Islamic Republic of - IR</p>

<p>Iraq - IQ</p>

<p>Ireland - IE</p>

<p>Isle of Man - IM</p>

<p>Israel - IL</p>

<p>Italy - IT</p>

<p>Jamaica - JM</p>

<p>Japan - JP</p>

<p>Jersey - JE</p>

<p>Jordan - JO</p>

<p>Kazakhstan - KZ</p>

<p>Kenya - KE</p>

<p>Kiribati - KI</p>

<p>Korea, Democratic People&#39;s Republic of - KP</p>

<p>Korea, Republic of - KR</p>

<p>Kuwait - KW</p>

<p>Kyrgyzstan - KG</p>

<p>Lao People&#39;s Democratic Republic - LA</p>

<p>Latvia - LV</p>

<p>Lebanon - LB</p>

<p>Lesotho - LS</p>

<p>Liberia - LR</p>

<p>Libya - LY</p>

<p>Liechtenstein - LI</p>

<p>Lithuania - LT</p>

<p>Luxembourg - LU</p>

<p>Macao - MO</p>

<p>Macedonia, the Former Yugoslav Republic of - MK</p>

<p>Madagascar - MG</p>

<p>Malawi - MW</p>

<p>Malaysia - MY</p>

<p>Maldives - MV</p>

<p>Mali - ML</p>

<p>Malta - MT</p>

<p>Marshall Islands - MH</p>

<p>Martinique - MQ</p>

<p>Mauritania - MR</p>

<p>Mauritius - MU</p>

<p>Mayotte - YT</p>

<p>Mexico - MX</p>

<p>Micronesia, Federated States of - FM</p>

<p>Moldova, Republic of - MD</p>

<p>Monaco - MC</p>

<p>Mongolia - MN</p>

<p>Montenegro - ME</p>

<p>Montserrat - MS</p>

<p>Morocco - MA</p>

<p>Mozambique - MZ</p>

<p>Myanmar - MM</p>

<p>Namibia - NA</p>

<p>Nauru - NR</p>

<p>Nepal - NP</p>

<p>Netherlands - NL</p>

<p>New Caledonia - NC</p>

<p>New Zealand - NZ</p>

<p>Nicaragua - NI</p>

<p>Niger - NE</p>

<p>Nigeria - NG</p>

<p>Niue - NU</p>

<p>Norfolk Island - NF</p>

<p>Northern Mariana Islands - MP</p>

<p>Norway - NO</p>

<p>Oman - OM</p>

<p>Pakistan - PK</p>

<p>Palau - PW</p>

<p>Palestine, State of - PS</p>

<p>Panama - PA</p>

<p>Papua New Guinea - PG</p>

<p>Paraguay - PY</p>

<p>Peru - PE</p>

<p>Philippines - PH</p>

<p>Pitcairn - PN</p>

<p>Poland - PL</p>

<p>Portugal - PT</p>

<p>Puerto Rico - PR</p>

<p>Qatar - QA</p>

<p>Runion - RE</p>

<p>Romania - RO</p>

<p>Russian Federation - RU</p>

<p>Rwanda - RW</p>

<p>Saint Barthlemy - BL</p>

<p>Saint Helena, Ascension and Tristan da Cunha - SH</p>

<p>Saint Kitts and Nevis - KN</p>

<p>Saint Lucia - LC</p>

<p>Saint Martin (French part) - MF</p>

<p>Saint Pierre and Miquelon - PM</p>

<p>Saint Vincent and the Grenadines - VC</p>

<p>Samoa - WS</p>

<p>San Marino - SM</p>

<p>Sao Tome and Principe - ST</p>

<p>Saudi Arabia - SA</p>

<p>Senegal - SN</p>

<p>Serbia - RS</p>

<p>Seychelles - SC</p>

<p>Sierra Leone - SL</p>

<p>Singapore - SG</p>

<p>Sint Maarten (Dutch part) - SX</p>

<p>Slovakia - SK</p>

<p>Slovenia - SI</p>

<p>Solomon Islands - SB</p>

<p>Somalia - SO</p>

<p>South Africa - ZA</p>

<p>South Georgia and the South Sandwich Islands - GS</p>

<p>South Sudan - SS</p>

<p>Spain - ES</p>

<p>Sri Lanka - LK</p>

<p>Sudan - SD</p>

<p>Suriname - SR</p>

<p>Svalbard and Jan Mayen - SJ</p>

<p>Swaziland - SZ</p>

<p>Sweden - SE</p>

<p>Switzerland - CH</p>

<p>Syrian Arab Republic - SY</p>

<p>Taiwan, Province of China - TW</p>

<p>Tajikistan - TJ</p>

<p>Tanzania, United Republic of - TZ</p>

<p>Thailand - TH</p>

<p>Timor-Leste - TL</p>

<p>Togo - TG</p>

<p>Tokelau - TK</p>

<p>Tonga - TO</p>

<p>Trinidad and Tobago - TT</p>

<p>Tunisia - TN</p>

<p>Turkey - TR</p>

<p>Turkmenistan - TM</p>

<p>Turks and Caicos Islands - TC</p>

<p>Tuvalu - TV</p>

<p>Uganda - UG</p>

<p>Ukraine - UA</p>

<p>United Arab Emirates - AE</p>

<p>United Kingdom - GB</p>

<p>United States - US</p>

<p>United States Minor Outlying Islands - UM</p>

<p>Uruguay - UY</p>

<p>Uzbekistan - UZ</p>

<p>Vanuatu - VU</p>

<p>Venezuela, Bolivarian Republic of - VE</p>

<p>Viet Nam - VN</p>

<p>Virgin Islands, British - VG</p>

<p>Virgin Islands, U.S. - VI</p>

<p>Wallis and Futuna - WF</p>

<p>Western Sahara - EH</p>

<p>Yemen - YE</p>

<p>Zambia - ZM</p>

<p>Zimbabwe - ZW</p>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The ConsCent API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Invalid API Key &amp; API Secret.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The resource requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The resource requested could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The resource has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many resources! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="php">php</a>
          </div>
      </div>
    </div>
  </body>
</html>
